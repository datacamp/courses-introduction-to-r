---
title_meta: Capítulo 6
title: Listas
description: >-
  A diferencia de los vectores, las listas pueden contener componentes de
  distintos tipos, igual que tus listas de tareas pendientes pueden contener
  distintas categorías de tareas. Este capítulo te enseñará a crear, nombrar y
  crear subconjuntos con estas listas.
---

## Listas, ¿para qué las necesitas?

```yaml
type: NormalExercise
key: 2afcdb6a76ec91bf266de9b2ac295d844d7bb004
xp: 100
skills:
  - 1
```

¡Enhorabuena! A estas alturas del curso ya estás familiarizado con:

- **Vectores** (matriz unidimensional): pueden contener valores numéricos, de caracteres o lógicos. Los elementos de un vector tienen todos el mismo tipo de datos.
- **Matrices** (matriz bidimensional): pueden contener valores numéricos, de caracteres o lógicos. Los elementos de una matriz tienen todos el mismo tipo de datos.
- **Tramas de datos** (objetos bidimensionales): pueden contener valores numéricos, de caracteres o lógicos. Dentro de una columna, todos los elementos tienen el mismo tipo de datos, pero columnas diferentes pueden tener tipos de datos distintos.

Bastante dulce para un novato en R, ¿verdad? ;-)

`@instructions`
¡Envía la respuesta para empezar a aprender todo sobre las listas!

`@hint`
¡Solo tienes que enviar la respuesta!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer
```

`@solution`
```{r}
# Just submit the answer.
```

`@sct`
```{r}
success_msg("¡Listo, preparado, ya! Continúa con el siguiente ejercicio.")
```

---

## Listas, ¿para qué las necesitas? (2)

```yaml
type: NormalExercise
key: 68f93c5c504616bd18876da52cd123277d56fc8b
xp: 100
skills:
  - 1
```

Una **lista** en R es similar a tu lista de tareas pendientes en el trabajo o en la escuela: lo más probable es que los distintos elementos de esa lista difieran en longitud, característica y tipo de actividad que hay que hacer. 

Una lista en R te permite reunir diversos objetos bajo un mismo nombre (es decir, el nombre de la lista) de forma ordenada. Estos objetos pueden ser matrices, vectores, marcos de datos, incluso otras listas, etc. Ni siquiera es necesario que estos objetos estén relacionados entre sí de algún modo.

Podrías decir que una lista es una especie de supertipo de datos: ¡puedes almacenar prácticamente cualquier información en ella!

`@instructions`
Solo tienes que enviar la respuesta para iniciar el primer ejercicio de las listas.

`@hint`
Envía la respuesta para comenzar el primer ejercicio sobre listas.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@solution`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@sct`
```{r}
success_msg("Genial. ¡Manos a la obra!")
```

---

## Crear una lista

```yaml
type: NormalExercise
key: 4beee9cb532c889903218b49b83ab5ef133eac83
xp: 100
skills:
  - 1
```

¡Vamos a crear nuestra primera lista! Para construir una lista se utiliza la función `list()`: 

```
my_list <- list(comp1, comp2 ...)
```

Los argumentos de la función lista son los componentes de la lista. Recuerda que estos componentes pueden ser matrices, vectores, otras listas,...

`@instructions`
Construye una lista, llamada `my_list`, que contenga las variables `my_vector`, `my_matrix` y `my_df` como componentes de la lista.

`@hint`
Utiliza la función `list()` con `my_vector`, `my_matrix` y `my_df` como argumentos separados por una coma.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <-
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <- list(my_vector, my_matrix, my_df)
```

`@sct`
```{r}
msg = "¡No elimines ni cambies la definición de las variables `my_vector`, `my_matrix` o `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Parece que `my_list` no contiene los elementos correctos. Asegúrate de pasar las variables `my_vector`, `my_matrix` y `my_df` a la función `list()`, separadas por comas, en este orden.")

success_msg("¡Maravilloso! Pasa al siguiente ejercicio.")
```

---

## Crear una lista con nombre

```yaml
type: NormalExercise
key: 89dd0126568b1ff5a84033c571907a8a282245e4
xp: 100
skills:
  - 1
```

Bien hecho, ¡estás en racha!

Al igual que en tu lista de tareas, debes evitar no saber o no recordar qué significan los componentes de tu lista. Por eso debes darles nombres: 

```
my_list <- list(name1 = your_comp1, 

                name2 = your_comp2)

``` 

Esto crea una lista con componentes que se llaman `name1`, `name2`, etc. Si quieres dar un nombre a tus listas después de haberlas creado, puedes utilizar la función `names()` como hiciste con los vectores. Los siguientes comandos son totalmente equivalentes a la asignación anterior:

```
my_list <- list(your_comp1, your_comp2)
names(my_list) <- c("name1", "name2")
```

`@instructions`
- Cambia el código del ejercicio anterior (ver editor) y añade nombres a los componentes. Utiliza para `my_vector` el nombre `vec`, para `my_matrix` el nombre `mat` y para `my_df` el nombre `df`. 
- Imprime `my_list` para que puedas inspeccionar la salida.

`@hint`
El primer método para asignar nombres a los componentes de tu lista es el más sencillo. Empieza así: 
```
my_list <- list(vec = my_vector)
```
Añade los otros dos componentes de forma similar.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(my_vector, my_matrix, my_df)

# Print out my_list
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(vec = my_vector, mat = my_matrix, df = my_df)

# Print out my_list
my_list
```

`@sct`
```{r}
msg = "¡No elimines ni cambies la definición de las variables `my_vector`, `my_matrix` o `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Parece que `my_list` no contiene los elementos correctos.")

ex() %>% check_object("my_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Parece que `my_list` no tiene los nombres correctos para los componentes. Asegúrate de usar los nombres `vec`, `mat` y `df`, respectivamente. Revisa la pista si tienes problemas.")

ex() %>% check_output_expr("my_list", missing_msg = "¡No olvides imprimir `my_list` en la consola! Simplemente añade `my_list` en una nueva línea en el editor.")

success_msg("¡Genial! No solo sabes cómo construir listas ahora, también puedes nombrarlas; una habilidad que será muy útil en la práctica. Continúa con el siguiente ejercicio.")
```

---

## Crear una lista con nombre (2)

```yaml
type: NormalExercise
key: 19fd17cc792ef870c1558b3a9bae08c1d1e3acae
xp: 100
skills:
  - 1
```

Como eres un gran aficionado al cine (recuerda tu trabajo en LucasFilms), decides empezar a almacenar información sobre buenas películas con la ayuda de listas. 

Empieza creando una lista para la película "El resplandor". Ya hemos creado las variables `mov`, `act` y `rev` en tu espacio de trabajo de R. No dudes en consultarlas en la consola.

`@instructions`
Completa el código en el editor para crear `shining_list`; contiene tres elementos:

- `moviename`: una cadena de caracteres con el título de la película (almacenada en `mov`)
- `actors`: un vector con los nombres de los actores principales (almacenado en `act`)
- `reviews`: un marco de datos que contiene algunas reseñas (almacenadas en `rev`)

No olvides dar el nombre correspondiente a los componentes de la lista (los nombres son `moviename`, `actors` y `reviews`).

`@hint`
`shining_list <- list(moviename = mov)` es solo una parte de la solución; tu trabajo consiste en añadir también `act` y `rev` a la lista, con los nombres adecuados.

`@pre_exercise_code`
```{r}
mov <- "The Shining"
act      <- c("Jack Nicholson","Shelley Duvall","Danny Lloyd","Scatman Crothers","Barry Nelson")
sources     <- c("IMDb1","IMDb2","IMDb3")
comments    <- c("Best Horror Film I Have Ever Seen","A truly brilliant and scary film from Stanley Kubrick","A masterpiece of psychological horror")
scores      <- c(4.5,4,5)
rev     <- data.frame(scores, sources, comments)
rm(scores, sources, comments)
```

`@sample_code`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov)
```

`@solution`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov, actors = act, reviews = rev)
```

`@sct`
```{r}
msg = "¡No elimines ni cambies la definición de las variables preestablecidas!"
ex()  %>% check_object("mov", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("rev", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("act", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("shining_list") %>% check_equal(incorrect_msg = "Parece que `shining_list` no contiene los elementos correctos: el primer elemento debería ser `mov`, el segundo elemento `act` y el tercero `rev`.")

ex() %>% check_object("shining_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Parece que `shining_list` no tiene la nomenclatura correcta para los componentes: nombra el primer elemento `moviename`, el segundo elemento `actors` y el tercero `reviews`.")

success_msg("¡Maravilloso! Ahora sabes cómo construir y nombrar listas. Como en los capítulos anteriores, veamos cómo seleccionar elementos para listas. Dirígete al siguiente ejercicio.")
```

---

## Seleccionar elementos de una lista

```yaml
type: NormalExercise
key: 1ef3278944562caef64b9927dd2ddb6ee52334cd
xp: 100
skills:
  - 1
```

Tu lista se construirá a menudo a partir de numerosos elementos y componentes. Por lo tanto, no siempre es sencillo obtener un solo elemento, varios elementos o un componente. 

Una forma de seleccionar un componente es con la posición numerada de ese componente. Por ejemplo, para "coger" el primer componente de `shining_list` escribe 

```
shining_list[[1]]
```

Una forma rápida de comprobarlo es escribirlo en la consola. Importante recordar: para seleccionar elementos de vectores, se utilizan corchetes simples: `[ ]`. ¡No los mezcles!

También puedes referirte a los nombres de los componentes, con `[[ ]]` o con el signo `$`. Ambos seleccionarán el marco de datos que representa las revisiones: 

```
shining_list[["reviews"]]
shining_list$reviews
``` 

Además de seleccionar componentes, a menudo necesitas seleccionar elementos concretos de esos componentes. Por ejemplo, con `shining_list[[2]][1]` seleccionas del segundo componente, `actors` (`shining_list[[2]]`), el primer elemento (`[1]`). Cuando escribas esto en la consola, verás que la respuesta es Jack Nicholson.

`@instructions`
- Selecciona en `shining_list` el vector que representa a los actores. Solo tienes que imprimir este vector.
- Selecciona en `shining_list` el segundo elemento del vector que representa a los actores. Haz una impresión como antes.

`@hint`
- Para seleccionar el vector que representa a los actores, puedes utilizar `$actors`.
- Para seleccionar el tercer elemento del vector que representa a los actores, utiliza `shining_list$actors[3]`. ¿Qué hay que cambiar para seleccionar el segundo elemento?

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

`@sample_code`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors


# Print the second element of the vector representing the actors
```

`@solution`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors
shining_list$actors

# Print the second element of the vector representing the actors
shining_list$actors[2]
```

`@sct`
```{r}
msg <- "¡No elimines ni cambies la definición de `shining_list`, que está precargada en el espacio de trabajo!"
ex() %>% check_object("shining_list", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("shining_list$actors", missing_msg = "¿Has seleccionado e impreso correctamente el vector que representa a los actores? Puedes usar `shining_list$actors`, por ejemplo.")

ex() %>% check_output_expr("shining_list$actors[2]", missing_msg = "Para seleccionar al segundo actor del vector que representa a los actores, debes encadenar tus selecciones: `shining_list$actors` representa a los actores, así que puedes añadir un `[2]` para seleccionar el segundo elemento.")

success_msg("¡Genial! Seleccionar elementos de listas es bastante fácil, ¿no? Continúa con el siguiente ejercicio.")
```

---

## Crear una nueva lista para otra película

```yaml
type: NormalExercise
key: ce10c83e5b
xp: 100
```

Has encontrado críticas de otra película más reciente de Jack Nicholson: ¡Los infiltrados!

| Puntuaciones | Comentarios               |
|--------|------------------------|
| 4.6    | <span translate="no">I would watch it again</span> |
| 5      | <span translate="no">Amazing!</span>               |
| 4.8    | <span translate="no">I liked it</span>             |
| 5      | <span translate="no">One of the best movies</span> |
| 4.2    | <span translate="no">Fascinating plot</span>       |

Sería útil reunir toda la información sobre la película, como el título, los actores y las críticas, en una sola variable. Como estos datos tienen formas diferentes, es natural combinarlos en una variable de lista.

`movie_title`, que contiene el título de la película, y `movie_actors`, que contiene los nombres de algunos de los actores de la película, están disponibles en tu espacio de trabajo.

`@instructions`
- Crea dos vectores, llamados `scores` y `comments`, que contengan la información de las reseñas que aparecen en la tabla.
- Halla la media del vector `scores` y guárdala como `avg_review`. 
- Combina los vectores `scores` y `comments` en un marco de datos llamado `reviews_df`. 
- Crea una lista, llamada `departed_list`, que contenga el marco de datos `movie_title`, `movie_actors`, reseñas como `reviews_df`, así como la puntuación media de las reseñas como `avg_review`, e imprímela.

`@hint`
- Utilizarás la función `c()` para crear los vectores. 
- Para hallar la media de un vector, pasa el nombre del vector a la función `mean()`. 
- Utiliza la función `data.frame()` para crear el marco de datos `reviews_df`.

`@pre_exercise_code`
```{r}
movie_title <- "The Departed"
movie_actors <- c("Leonardo DiCaprio", "Matt Damon", "Jack Nicholson","Mark Wahlberg","Vera Farmiga", "Martin Sheen")
```

`@sample_code`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, ___
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", ___ 

# Save the average of the scores vector as avg_review


# Combine scores and comments into the reviews_df data frame


# Create and print out a list, called departed_list


```

`@solution`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, 4.2)
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", "Fascinating plot")

# Save the average of the scores vector as avg_review
avg_review <- mean(scores)

# Combine scores and comments into the reviews_df data frame
reviews_df <- data.frame(scores, comments)

# Create and print out a list, called departed_list
departed_list <- list(movie_title, movie_actors, reviews_df, avg_review)
departed_list
```

`@sct`
```{r}
msg <- "No cambies ni elimines los objetos precargados."

ex() %>% check_object("movie_title") %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("movie_actors")  %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("scores") %>% check_equal(eq_condition = "equal", incorrect_msg = "¿Creaste correctamente el vector `scores`?")
ex() %>% check_object("comments") %>% check_equal(eq_condition = "equal", incorrect_msg = "¿Creaste correctamente el vector `comments`?")
ex() %>% check_correct(
  check_object(.,"avg_review") %>% check_equal(eq_condition = "equal", incorrect_msg = "¿Creaste correctamente el objeto `avg_review`?"),
  check_function(.,"mean") %>% check_arg("x") %>% check_equal()
)
ex() %>% check_correct(
  check_object(.,"reviews_df") %>% check_equal(eq_condition = "equal", incorrect_msg = "¿Creaste correctamente `reviews_df`?"),
  check_function(.,"data.frame") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
  }
)
ex() %>% check_correct(
  check_object(.,"departed_list") %>% check_equal(eq_condition = "equal", incorrect_msg = "¿Creaste correctamente `departed_list`?"),
  check_function(.,"list") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
    check_arg(.,"..3") %>% check_equal()
    check_arg(.,"..4") %>% check_equal()
  }
)
ex() %>% check_output_expr("departed_list", missing_msg = "¿Imprimiste el `departed_list`?")

success_msg("¡Buen trabajo! Creaste con éxito otra lista de información de películas y combinaste diferentes componentes en una sola lista. ¡Felicidades por terminar el curso!")
```
