---
title_meta: Capítulo 6
title: Listas
description: >-
  Ao contrário dos vetores, as listas podem armazenar componentes de diferentes
  tipos, assim como listas de tarefas podem conter diferentes categorias de
  tarefas. Este capítulo vai ensinar você a criar, dar nome e subdividir essas
  listas.
---

## Listas: para que servem?

```yaml
type: NormalExercise
key: 2afcdb6a76ec91bf266de9b2ac295d844d7bb004
xp: 100
skills:
  - 1
```

Parabéns! A esta altura do curso, você já está familiarizado com:

- **Vetores** (matrizes unidimensionais): podem conter valores numéricos, lógicos ou sequências de caracteres. Todos os elementos de um vetor têm o mesmo tipo de dados.
- **Matrizes** (bidimensionais): podem conter valores numéricos, lógicos ou sequências de caracteres. Todos os elementos de uma matriz têm o mesmo tipo de dados.
- **Quadros de dados** (objetos bidimensionais): podem conter valores numéricos, lógicos ou sequências de caracteres. Em uma coluna, todos os elementos têm o mesmo tipo de dados, mas colunas diferentes podem ter tipos de dados diferentes.

Muito legal para um novato em R, certo? :-)

`@instructions`
Envie a resposta para começar a aprender tudo sobre listas!

`@hint`
É só enviar a resposta!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer
```

`@solution`
```{r}
# Just submit the answer.
```

`@sct`
```{r}
success_msg("Pronto, preparado, vai! Continue para o próximo exercício.")
```

---

## Listas: para que servem? (2)

```yaml
type: NormalExercise
key: 68f93c5c504616bd18876da52cd123277d56fc8b
xp: 100
skills:
  - 1
```

Uma **lista** no R é parecida com sua lista de tarefas no trabalho ou na escola: é provável que os diversos itens dessa lista tenham diferentes tamanhos, características e atividades que precisam ser realizadas. 

Uma lista no R permite reunir vários objetos com um único nome (ou seja, o nome da lista) de forma ordenada. Esses objetos podem ser matrizes, vetores, quadros de dados e até mesmo outras listas, entre outros. Nem mesmo é necessário que esses objetos estejam relacionados entre si de alguma forma.

Pode-se dizer que uma lista é uma espécie de supertipo de dados: é possível armazenar praticamente qualquer informação nela!

`@instructions`
Basta enviar a resposta para iniciar o primeiro exercício sobre listas.

`@hint`
Envie a resposta para iniciar o primeiro exercício sobre listas.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@solution`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@sct`
```{r}
success_msg("Legal. Vamos colocar a mão na massa!")
```

---

## Como criar uma lista

```yaml
type: NormalExercise
key: 4beee9cb532c889903218b49b83ab5ef133eac83
xp: 100
skills:
  - 1
```

Vamos criar nossa primeira lista! Para construir uma lista, usamos a função `list()`: 

```
my_list <- list(comp1, comp2 ...)
```

Os argumentos da função <i>list</i> são os componentes da lista. Lembre-se: esses componentes podem ser matrizes, vetores, outras listas...

`@instructions`
Construa uma lista, denominada `my_list`, que contenha as variáveis `my_vector`, `my_matrix` e `my_df` como componentes.

`@hint`
Use a função `list()` com `my_vector`, `my_matrix` e `my_df` como argumentos separados por vírgula.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <-
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <- list(my_vector, my_matrix, my_df)
```

`@sct`
```{r}
msg = "Não remova ou altere a definição das variáveis `my_vector`, `my_matrix` ou `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Parece que `my_list` não contém os elementos corretos. Certifique-se de passar as variáveis `my_vector`, `my_matrix` e `my_df` para a função `list()`, separadas por vírgulas, nesta ordem.")

success_msg("Maravilha! Vá para o próximo exercício.")
```

---

## Criação de uma lista nomeada

```yaml
type: NormalExercise
key: 89dd0126568b1ff5a84033c571907a8a282245e4
xp: 100
skills:
  - 1
```

Você está de parabéns!

Assim como na sua lista de tarefas, convém saber ou recordar o que significam os componentes da lista. É por isso que você deve dar um nome a eles: 

```
my_list <- list(name1 = your_comp1, 

                name2 = your_comp2)

``` 

Isso cria uma lista com componentes denominados `name1`, `name2` e assim por diante. Se quiser dar nome às listas depois de criá-las, você pode usar a função `names()` como fez com os vetores. Os comandos a seguir são totalmente equivalentes à atribuição acima:

```
my_list <- list(your_comp1, your_comp2)
names(my_list) <- c("name1", "name2")
```

`@instructions`
- Altere o código do exercício anterior (consulte o editor) adicionando nomes aos componentes. Use o nome `vec` para `my_vector`, `mat` para `my_matrix` e `df` para `my_df`. 
- Imprima `my_list` para poder inspecionar a saída.

`@hint`
O primeiro método de atribuição de nomes aos componentes da lista é o mais fácil. Começa assim: 
```
my_list <- list(vec = my_vector)
```
Adicione os outros dois componentes de forma semelhante.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(my_vector, my_matrix, my_df)

# Print out my_list
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(vec = my_vector, mat = my_matrix, df = my_df)

# Print out my_list
my_list
```

`@sct`
```{r}
msg = "Não remova ou altere a definição das variáveis `my_vector`, `my_matrix` ou `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Parece que `my_list` não contém os elementos corretos.")

ex() %>% check_object("my_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Parece que `my_list` não contém a nomeação correta para os componentes. Certifique-se de usar os nomes `vec`, `mat` e `df`, respectivamente. Confira a dica se estiver com dificuldades.")

ex() %>% check_output_expr("my_list", missing_msg = "Não se esqueça de imprimir `my_list` no console! Basta adicionar `my_list` em uma nova linha no editor.")

success_msg("Ótimo! Agora você não só sabe como construir listas, mas também pode nomeá-las; uma habilidade que será muito útil na prática. Continue para o próximo exercício.")
```

---

## Criação de uma lista nomeada (2)

```yaml
type: NormalExercise
key: 19fd17cc792ef870c1558b3a9bae08c1d1e3acae
xp: 100
skills:
  - 1
```

Sendo um grande fã de filmes (lembre-se de seu trabalho na LucasFilms), você decide começar a armazenar informações sobre bons filmes com a ajuda de listas. 

Comece criando uma lista para o filme “O Iluminado” (“The Shining”, em inglês). Já criamos as variáveis `mov`, `act` e `rev` em seu espaço de trabalho do R. Fique à vontade para conferi-las no console.

`@instructions`
Complete o código no editor para criar `shining_list`. Ela contém três elementos:

- `moviename`: uma cadeia de caracteres com o título do filme (armazenado em `mov`)
- `actors`: um vetor com os nomes dos principais atores (armazenados em `act`)
- `reviews`: um quadro de dados que contém algumas avaliações (armazenadas em `rev`)

Não se esqueça de dar o nome certo aos componentes da lista (os nomes são `moviename`, `actors` e `reviews`).

`@hint`
`shining_list <- list(moviename = mov)` é apenas parte da solução; também é seu trabalho adicionar `act` e `rev` à lista, com os nomes adequados.

`@pre_exercise_code`
```{r}
mov <- "The Shining"
act      <- c("Jack Nicholson","Shelley Duvall","Danny Lloyd","Scatman Crothers","Barry Nelson")
sources     <- c("IMDb1","IMDb2","IMDb3")
comments    <- c("Best Horror Film I Have Ever Seen","A truly brilliant and scary film from Stanley Kubrick","A masterpiece of psychological horror")
scores      <- c(4.5,4,5)
rev     <- data.frame(scores, sources, comments)
rm(scores, sources, comments)
```

`@sample_code`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov)
```

`@solution`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov, actors = act, reviews = rev)
```

`@sct`
```{r}
msg = "Não remova ou altere a definição das variáveis predefinidas!"
ex()  %>% check_object("mov", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("rev", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("act", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("shining_list") %>% check_equal(incorrect_msg = "Parece que `shining_list` não contém os elementos corretos: o primeiro elemento deve ser `mov`, o segundo elemento `act` e o terceiro `rev`.")

ex() %>% check_object("shining_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Parece que `shining_list` não contém a nomenclatura correta para os componentes: nomeie o primeiro elemento `moviename`, o segundo elemento `actors` e o terceiro elemento `reviews`.")

success_msg("Maravilha! Agora você sabe como construir e nomear listas. Como nos capítulos anteriores, vamos ver como selecionar elementos para listas. Vá para o próximo exercício.")
```

---

## Seleção de elementos de uma lista

```yaml
type: NormalExercise
key: 1ef3278944562caef64b9927dd2ddb6ee52334cd
xp: 100
skills:
  - 1
```

Muitas vezes, uma lista é construída a partir de vários elementos e componentes. Portanto, nem sempre é fácil obter um único elemento, vários elementos ou um componente a partir dela. 

Uma maneira de selecionar um componente é usar a posição numerada desse componente. Por exemplo: para selecionar o primeiro componente de `shining_list`, digite 

```
shining_list[[1]]
```

Uma maneira rápida de conferir isso é digitando no console. Lembrete importante: para selecionar elementos de vetores, use colchetes simples: `[ ]`. Não confunda!

Também é possível fazer referência ao nome dos componentes com `[[ ]]` ou com o sinal `$`. Ambos selecionam o quadro de dados que representa as avaliações <i>(reviews):</i> 

```
shining_list[["reviews"]]
shining_list$reviews
``` 

Além de selecionar componentes, muitas vezes é preciso selecionar elementos específicos desses componentes. Por exemplo: com `shining_list[[2]][1]`, selecionamos do segundo componente, `actors` (`shining_list[[2]]`), o primeiro elemento (`[1]`). Ao digitar isso no console, você verá que a resposta é Jack Nicholson.

`@instructions`
- Selecione em `shining_list` o vetor que representa os atores <i>(actors).</i> Basta imprimir esse vetor.
- Selecione em `shining_list` o segundo elemento do vetor que representa os atores. Faça uma impressão como antes.

`@hint`
- Para selecionar o vetor que representa os atores, você pode usar `$actors`.
- Para selecionar o terceiro elemento do vetor que representa os atores, use `shining_list$actors[3]`. O que precisa ser alterado para selecionar o segundo elemento?

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

`@sample_code`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors


# Print the second element of the vector representing the actors
```

`@solution`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors
shining_list$actors

# Print the second element of the vector representing the actors
shining_list$actors[2]
```

`@sct`
```{r}
msg <- "Não remova ou altere a definição de `shining_list`, que está pré-carregada no espaço de trabalho!"
ex() %>% check_object("shining_list", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("shining_list$actors", missing_msg = "Você selecionou e imprimiu corretamente o vetor que representa os atores? Você pode usar `shining_list$actors`, por exemplo.")

ex() %>% check_output_expr("shining_list$actors[2]", missing_msg = "Para selecionar o segundo ator do vetor que representa os atores, você deve encadear suas seleções: `shining_list$actors` representa os atores, então você pode adicionar um `[2]` para selecionar o segundo elemento.")

success_msg("Ótimo! Selecionar elementos de listas é bem fácil, não é? Continue para o próximo exercício.")
```

---

## Criação de uma nova lista para outro filme

```yaml
type: NormalExercise
key: ce10c83e5b
xp: 100
```

Você encontrou avaliações de outro filme mais recente de Jack Nicholson: “Os Infiltrados” (“The Departed”, em inglês).

| Pontuação | Comentários               |
|--------|------------------------|
| 4.6    | <span translate="no">I would watch it again</span> |
| 5      | <span translate="no">Amazing!</span>               |
| 4.8    | <span translate="no">I liked it</span>             |
| 5      | <span translate="no">One of the best movies</span> |
| 4.2    | <span translate="no">Fascinating plot</span>       |

Seria útil reunir todas as informações sobre o filme, como o título, os atores e as avaliações, em uma única variável. Como esses dados têm formatos diferentes, é natural combiná-los em uma variável do tipo lista.

`movie_title`, que contém o título do filme, e `movie_actors`, que armazena o nome de alguns atores do filme, estão disponíveis no seu espaço de trabalho.

`@instructions`
- Crie dois vetores, chamados `scores` e `comments`, que contenham as informações das avaliações mostradas na tabela.
- Encontre a média do vetor `scores` e salve-a como `avg_review`. 
- Combine os vetores `scores` e `comments` em um quadro de dados chamado `reviews_df`. 
- Crie uma lista chamada `departed_list` que contenha os quadros de dados `movie_title`, `movie_actors`, avaliações como `reviews_df` e pontuação média das avaliações como `avg_review` e imprima-a.

`@hint`
- Você deve usar a função `c()` para criar os vetores. 
- Para encontrar a média de um vetor, passe o nome do vetor na função `mean()`. 
- Use a função `data.frame()` para criar o quadro de dados `reviews_df`.

`@pre_exercise_code`
```{r}
movie_title <- "The Departed"
movie_actors <- c("Leonardo DiCaprio", "Matt Damon", "Jack Nicholson","Mark Wahlberg","Vera Farmiga", "Martin Sheen")
```

`@sample_code`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, ___
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", ___ 

# Save the average of the scores vector as avg_review


# Combine scores and comments into the reviews_df data frame


# Create and print out a list, called departed_list


```

`@solution`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, 4.2)
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", "Fascinating plot")

# Save the average of the scores vector as avg_review
avg_review <- mean(scores)

# Combine scores and comments into the reviews_df data frame
reviews_df <- data.frame(scores, comments)

# Create and print out a list, called departed_list
departed_list <- list(movie_title, movie_actors, reviews_df, avg_review)
departed_list
```

`@sct`
```{r}
msg <- "Não altere ou remova os objetos pré-carregados."

ex() %>% check_object("movie_title") %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("movie_actors")  %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("scores") %>% check_equal(eq_condition = "equal", incorrect_msg = "Você criou o vetor `scores` corretamente?")
ex() %>% check_object("comments") %>% check_equal(eq_condition = "equal", incorrect_msg = "Você criou o vetor `comments` corretamente?")
ex() %>% check_correct(
  check_object(.,"avg_review") %>% check_equal(eq_condition = "equal", incorrect_msg = "Você criou o objeto `avg_review` corretamente?"),
  check_function(.,"mean") %>% check_arg("x") %>% check_equal()
)
ex() %>% check_correct(
  check_object(.,"reviews_df") %>% check_equal(eq_condition = "equal", incorrect_msg = "Você criou `reviews_df` corretamente?"),
  check_function(.,"data.frame") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
  }
)
ex() %>% check_correct(
  check_object(.,"departed_list") %>% check_equal(eq_condition = "equal", incorrect_msg = "Você criou `departed_list` corretamente?"),
  check_function(.,"list") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
    check_arg(.,"..3") %>% check_equal()
    check_arg(.,"..4") %>% check_equal()
  }
)
ex() %>% check_output_expr("departed_list", missing_msg = "Você imprimiu o `departed_list`?")

success_msg("Bom trabalho! Você criou com sucesso outra lista de informações de filmes e combinou diferentes componentes em uma única lista. Parabéns por terminar o curso!")
```
