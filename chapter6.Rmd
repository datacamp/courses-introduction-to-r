---
title_meta: Chapitre 6
title: Listes
description: >-
  Contrairement aux vecteurs, les listes peuvent contenir des composants de
  différents types, tout comme vos listes de tâches peuvent contenir différentes
  catégories de tâches. Ce chapitre vous apprendra à créer, nommer et subdiviser
  ces listes.
---

## Listes, pourquoi en auriez-vous besoin ?

```yaml
type: NormalExercise
key: 2afcdb6a76ec91bf266de9b2ac295d844d7bb004
xp: 100
skills:
  - 1
```

Félicitations ! À ce stade du cours, vous êtes déjà familiarisé avec :

- **Les vecteurs** (tableaux à une dimension) : ils peuvent contenir des valeurs numériques, des caractères ou des valeurs logiques. Les éléments d'un vecteur ont tous le même type de données.
- **Les matrices** (tableau à deux dimensions) : elles peuvent contenir des valeurs numériques, des caractères ou des valeurs logiques. Les éléments d'une matrice ont tous le même type de données.
- **Les trames de données** (objets bidimensionnels) : elles peuvent contenir des valeurs numériques, des caractères ou des valeurs logiques. Au sein d'une colonne, tous les éléments ont le même type de données, mais des colonnes différentes peuvent avoir des types de données différents.

Plutôt sympa pour un débutant en R, non ? ;-)

`@instructions`
Envoyez la réponse pour commencer à tout savoir sur les listes.

`@hint`
Envoyez simplement la réponse !

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer
```

`@solution`
```{r}
# Just submit the answer.
```

`@sct`
```{r}
success_msg("Prêt, partez ! Continuez à l'exercice suivant.")
```

---

## Listes, pourquoi en auriez-vous besoin ? (2)

```yaml
type: NormalExercise
key: 68f93c5c504616bd18876da52cd123277d56fc8b
xp: 100
skills:
  - 1
```

Une **liste** en R est similaire à votre liste de choses à faire au travail ou à l'école : les différents éléments de cette liste diffèrent très probablement en termes de longueur, de caractéristiques et de type d'activité à réaliser. 

Une liste dans R vous permet de rassembler une série d'objets divers sous un seul nom (c'est-à-dire le nom de la liste) de manière ordonnée. Ces objets peuvent être des matrices, des vecteurs, des data frames, voire d'autres listes, etc. Il n'est même pas nécessaire que ces objets soient liés les uns aux autres de quelque manière que ce soit.

On pourrait dire qu'une liste est une sorte de super type de données : vous pouvez y stocker pratiquement n'importe quelle information.

`@instructions`
Il suffit d’envoyer la réponse pour commencer le premier exercice sur les listes.

`@hint`
Envoyez la réponse pour commencer le premier exercice sur les listes.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@solution`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@sct`
```{r}
success_msg("Cool. Mettons-nous au travail !")
```

---

## Création d'une liste

```yaml
type: NormalExercise
key: 4beee9cb532c889903218b49b83ab5ef133eac83
xp: 100
skills:
  - 1
```

Créons notre première liste. Pour construire une liste, utilisez la fonction `list()` : 

```
my_list <- list(comp1, comp2 ...)
```

Les arguments de la fonction de liste sont les composants de la liste. N'oubliez pas que ces composants peuvent être des matrices, des vecteurs, d'autres listes…

`@instructions`
Construisez une liste, nommée `my_list`, qui contient les variables `my_vector`, `my_matrix` et `my_df` en tant que composants de la liste.

`@hint`
Utilisez la fonction `list()` avec `my_vector`, `my_matrix` et `my_df` comme arguments séparés par une virgule.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <-
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <- list(my_vector, my_matrix, my_df)
```

`@sct`
```{r}
msg = "Ne supprimez pas et ne modifiez pas la définition des variables `my_vector`, `my_matrix` ou `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Il semble que `my_list` ne contienne pas les éléments corrects. Assurez-vous de passer les variables `my_vector`, `my_matrix` et `my_df` à la fonction `list()`, séparées par des virgules, dans cet ordre.")

success_msg("Magnifique ! Passez à l'exercice suivant.")
```

---

## Création d'une liste nommée

```yaml
type: NormalExercise
key: 89dd0126568b1ff5a84033c571907a8a282245e4
xp: 100
skills:
  - 1
```

Bravo, vous avez le vent en poupe !

Tout comme pour votre liste de choses à faire, vous voulez éviter de ne pas savoir ou de ne pas vous souvenir de ce que représentent les éléments de votre liste. C'est pourquoi vous devez leur donner un nom : 

```
my_list <- list(name1 = your_comp1, 

                name2 = your_comp2)

``` 

Cela crée une liste de composants nommés `name1`, `name2`, et ainsi de suite. Si vous souhaitez nommer vos listes après les avoir créées, vous pouvez utiliser la fonction `names()` comme vous l'avez fait pour les vecteurs. Les commandes suivantes sont entièrement équivalentes à l'affectation ci-dessus :

```
my_list <- list(your_comp1, your_comp2)
names(my_list) <- c("name1", "name2")
```

`@instructions`
- Modifiez le code de l'exercice précédent (voir éditeur) en ajoutant des noms aux composants. Utilisez pour `my_vector` le nom `vec`, pour `my_matrix` le nom `mat` et pour `my_df` le nom `df`. 
- Affichez `my_list` pour pouvoir contrôler la sortie.

`@hint`
La première méthode d'attribution de noms aux composants de votre liste est la plus simple. Voici comment cela commence : 
```
my_list <- list(vec = my_vector)
```
Ajoutez les deux autres composants de la même manière.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(my_vector, my_matrix, my_df)

# Print out my_list
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(vec = my_vector, mat = my_matrix, df = my_df)

# Print out my_list
my_list
```

`@sct`
```{r}
msg = "Ne modifiez pas la définition des variables `my_vector`, `my_matrix` ou `my_df` !"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Il semble que `my_list` ne contient pas les éléments corrects.")

ex() %>% check_object("my_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Il semble que `my_list` ne contient pas la dénomination correcte pour les composants. Assurez-vous d'utiliser les noms `vec`, `mat` et `df`, respectivement. Consultez l'indice si vous avez des difficultés.")

ex() %>% check_output_expr("my_list", missing_msg = "N'oubliez pas d'imprimer `my_list` dans la console ! Ajoutez simplement `my_list` sur une nouvelle ligne dans l'éditeur.")

success_msg("Super ! Non seulement vous savez maintenant comment construire des listes, mais vous pouvez également les nommer ; une compétence qui s'avérera très utile en pratique. Continuez à l'exercice suivant.")
```

---

## Création d'une liste nommée (2)

```yaml
type: NormalExercise
key: 19fd17cc792ef870c1558b3a9bae08c1d1e3acae
xp: 100
skills:
  - 1
```

En tant que grand fan de cinéma (souvenez-vous de votre emploi chez LucasFilms), vous décidez de commencer à stocker des informations sur les bons films à l'aide de listes. 

Commencez par créer une liste pour le film « The Shining ». Nous avons déjà créé les variables `mov`, `act` et `rev` dans votre espace de travail R. N'hésitez pas à les consulter dans la console.

`@instructions`
Complétez le code dans l'éditeur pour créer `shining_list` ; il contient trois éléments :

- `moviename` une chaîne de caractères contenant le titre du film (stocké dans `mov`)
- `actors` un vecteur avec les noms des principaux acteurs (stockés dans `act`)
- `reviews` une trame de données qui contient certains examens (stockés dans `rev`)

N'oubliez pas de nommer les composants de la liste en conséquence (les noms sont `moviename`, `actors` et `reviews`).

`@hint`
`shining_list <- list(moviename = mov)` n'est qu'une partie de la solution ; c'est à vous d'ajouter `act` et `rev` à la liste, avec les noms appropriés.

`@pre_exercise_code`
```{r}
mov <- "The Shining"
act      <- c("Jack Nicholson","Shelley Duvall","Danny Lloyd","Scatman Crothers","Barry Nelson")
sources     <- c("IMDb1","IMDb2","IMDb3")
comments    <- c("Best Horror Film I Have Ever Seen","A truly brilliant and scary film from Stanley Kubrick","A masterpiece of psychological horror")
scores      <- c(4.5,4,5)
rev     <- data.frame(scores, sources, comments)
rm(scores, sources, comments)
```

`@sample_code`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov)
```

`@solution`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov, actors = act, reviews = rev)
```

`@sct`
```{r}
msg = "Ne supprimez pas et ne modifiez pas la définition des variables prédéfinies !"
ex()  %>% check_object("mov", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("rev", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("act", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("shining_list") %>% check_equal(incorrect_msg = "Il semble que `shining_list` ne contienne pas les éléments corrects : le premier élément devrait être `mov`, le deuxième élément `act`, et le troisième `rev`.")

ex() %>% check_object("shining_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Il semble que `shining_list` ne contienne pas les noms corrects pour les composants : nommez le premier élément `moviename`, le deuxième élément `actors`, et le troisième élément `reviews`.")

success_msg("Merveilleux ! Vous savez maintenant comment construire et nommer des listes. Comme dans les chapitres précédents, voyons comment sélectionner des éléments pour les listes. Passez à l'exercice suivant.")
```

---

## Sélection d'éléments dans une liste

```yaml
type: NormalExercise
key: 1ef3278944562caef64b9927dd2ddb6ee52334cd
xp: 100
skills:
  - 1
```

Votre liste sera souvent constituée de nombreux éléments et composants. Par conséquent, il n'est pas toujours facile d'en extraire un élément spécifique, plusieurs éléments ou un composant. 

L'une des façons de sélectionner un composant est d'utiliser la position numérotée de ce composant. Par exemple, pour « attraper » le premier composant de `shining_list`, vous tapez 

```
shining_list[[1]]
```

Pour le vérifier rapidement, vous pouvez le taper dans la console. Important à retenir : pour sélectionner des éléments dans des vecteurs, on utilise des crochets simples : `[ ]`. Ne les mélangez pas !

Vous pouvez également vous référer aux noms des composants, avec `[[ ]]` ou avec le signe `$`. Tous deux sélectionneront la trame de données représentant les vérifications : 

```
shining_list[["reviews"]]
shining_list$reviews
``` 

Outre la sélection de composants, il faut souvent sélectionner des éléments spécifiques à partir de ces composants. Par exemple, avec `shining_list[[2]][1]`, vous sélectionnez à partir du deuxième composant, `actors` (`shining_list[[2]]`), le premier élément (`[1]`). Lorsque vous tapez ceci dans la console, vous verrez que la réponse est Jack Nicholson.

`@instructions`
- Sélectionnez sur `shining_list` le vecteur représentant les acteurs. Il suffit d'afficher ce vecteur.
- Sélectionnez sur `shining_list` le deuxième élément du vecteur représentant les acteurs. Affichez comme précédemment.

`@hint`
- Pour sélectionner le vecteur représentant les acteurs, vous pouvez utiliser `$actors`.
- Pour sélectionner le troisième élément du vecteur représentant les acteurs, vous utilisez `shining_list$actors[3]`. Que faut-il changer pour sélectionner le deuxième élément ?

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

`@sample_code`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors


# Print the second element of the vector representing the actors
```

`@solution`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors
shining_list$actors

# Print the second element of the vector representing the actors
shining_list$actors[2]
```

`@sct`
```{r}
msg <- "Ne supprimez pas et ne modifiez pas la définition de `shining_list`, qui est préchargée dans l'espace de travail !"
ex() %>% check_object("shining_list", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("shining_list$actors", missing_msg = "Avez-vous correctement sélectionné et imprimé le vecteur représentant les acteurs ? Vous pouvez utiliser `shining_list$actors`, par exemple.")

ex() %>% check_output_expr("shining_list$actors[2]", missing_msg = "Pour sélectionner le deuxième acteur du vecteur représentant les acteurs, vous devez enchaîner vos sélections : `shining_list$actors` représente les acteurs, vous pouvez donc ajouter un `[2]` pour sélectionner le deuxième élément.")

success_msg("Super ! Sélectionner des éléments dans des listes est plutôt facile, n'est-ce pas ? Continuez à l'exercice suivant.")
```

---

## Création d'une nouvelle liste pour un autre film

```yaml
type: NormalExercise
key: ce10c83e5b
xp: 100
```

Vous avez trouvé des critiques d'un autre film, plus récent, de Jack Nicholson : Les disparus !

| Scores | Commentaires               |
|--------|------------------------|
| 4,6    | <span translate="no">I would watch it again</span> |
| 5      | <span translate="no">Amazing!</span>               |
| 4,8    | <span translate="no">I liked it</span>             |
| 5      | <span translate="no">One of the best movies</span> |
| 4,2    | <span translate="no">Fascinating plot</span>       |

Il serait utile de rassembler tous les éléments d'information sur le film, comme le titre, les acteurs et les critiques, dans une seule variable. Comme ces données ont des formes différentes, il est naturel de les combiner dans une variable de type liste.

`movie_title`, contenant le titre du film, et `movie_actors`, contenant les noms de certains acteurs du film, sont disponibles dans votre espace de travail.

`@instructions`
- Créez deux vecteurs, appelés `scores` et `comments`, qui contiennent les informations des revues présentées dans le tableau.
- Trouvez la moyenne du vecteur `scores` et enregistrez-la dans `avg_review`. 
- Combinez les vecteurs `scores` et `comments` dans une trame de données appelée `reviews_df`. 
- Créez une liste, appelée `departed_list`, qui contient la trame de données `movie_title`, `movie_actors`, les critiques dans `reviews_df`, et la note moyenne des critiques dans `avg_review`, et affichez-la.

`@hint`
- Vous utiliserez la fonction `c()` pour créer les vecteurs. 
- Pour trouver la moyenne d'un vecteur, passez le nom du vecteur à la fonction `mean()`. 
- Utilisez la fonction `data.frame()` pour créer la trame de données `reviews_df`.

`@pre_exercise_code`
```{r}
movie_title <- "The Departed"
movie_actors <- c("Leonardo DiCaprio", "Matt Damon", "Jack Nicholson","Mark Wahlberg","Vera Farmiga", "Martin Sheen")
```

`@sample_code`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, ___
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", ___ 

# Save the average of the scores vector as avg_review


# Combine scores and comments into the reviews_df data frame


# Create and print out a list, called departed_list


```

`@solution`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, 4.2)
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", "Fascinating plot")

# Save the average of the scores vector as avg_review
avg_review <- mean(scores)

# Combine scores and comments into the reviews_df data frame
reviews_df <- data.frame(scores, comments)

# Create and print out a list, called departed_list
departed_list <- list(movie_title, movie_actors, reviews_df, avg_review)
departed_list
```

`@sct`
```{r}
msg <- "Ne modifiez pas et ne supprimez pas les objets préchargés."

ex() %>% check_object("movie_title") %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("movie_actors")  %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("scores") %>% check_equal(eq_condition = "equal", incorrect_msg = "Avez-vous créé correctement le vecteur `scores` ?")
ex() %>% check_object("comments") %>% check_equal(eq_condition = "equal", incorrect_msg = "Avez-vous créé correctement le vecteur `comments` ?")
ex() %>% check_correct(
  check_object(.,"avg_review") %>% check_equal(eq_condition = "equal", incorrect_msg = "Avez-vous créé correctement l'objet `avg_review` ?"),
  check_function(.,"mean") %>% check_arg("x") %>% check_equal()
)
ex() %>% check_correct(
  check_object(.,"reviews_df") %>% check_equal(eq_condition = "equal", incorrect_msg = "Avez-vous créé correctement `reviews_df` ?"),
  check_function(.,"data.frame") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
  }
)
ex() %>% check_correct(
  check_object(.,"departed_list") %>% check_equal(eq_condition = "equal", incorrect_msg = "Avez-vous créé correctement `departed_list` ?"),
  check_function(.,"list") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
    check_arg(.,"..3") %>% check_equal()
    check_arg(.,"..4") %>% check_equal()
  }
)
ex() %>% check_output_expr("departed_list", missing_msg = "Avez-vous imprimé le `departed_list` ?")

success_msg("Bon travail ! Vous avez réussi à créer une autre liste d'informations sur le film et à combiner différents composants en une seule liste. Félicitations pour avoir terminé le cours !")
```
