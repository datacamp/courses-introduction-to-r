---
title_meta: Capitolo 6
title: Liste
description: >-
  A differenza dei vettori, le liste possono contenere elementi di diverso tipo,
  proprio come le tue liste di cose da fare possono contenere diverse categorie
  di mansioni e attività da svolgere. In questo capitolo imparerai a crearle,
  nominarle e suddividerle.
---

## Liste, perché ne hai bisogno?

```yaml
type: NormalExercise
key: 2afcdb6a76ec91bf266de9b2ac295d844d7bb004
xp: 100
skills:
  - 1
```

Congratulazioni! A questo punto del corso hai già acquisito una certa dimestichezza con:

- **Vettori** (array monodimensionali): possono contenere valori numerici, caratteri o logici. Tutti gli elementi di un vettore presentano lo stesso tipo di dati.
- **Matrici** (array bidimensionali): possono contenere valori numerici, caratteri o logici. Tutti gli elementi di una matrice presentano lo stesso tipo di dati.
- **Data frame** (oggetti bidimensionali): possono contenere valori numerici, caratteri o logici. All'interno di una colonna tutti gli elementi presentano lo stesso tipo di dati, ma colonne diverse possono avere tipi di dati diversi.

Niente male per un principiante di R, no? ;-)

`@instructions`
Invia la tua risposta e inizia a scoprire tutto quello che c’è da sapere sulle liste!

`@hint`
Invia la risposta!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer
```

`@solution`
```{r}
# Just submit the answer.
```

`@sct`
```{r}
success_msg("Pronti, partenza, via! Continua con l'esercizio successivo.")
```

---

## Liste, perché ne hai bisogno? (2)

```yaml
type: NormalExercise
key: 68f93c5c504616bd18876da52cd123277d56fc8b
xp: 100
skills:
  - 1
```

Una **lista** in R è simile alla tua lista di cose da fare: le diverse voci dell'elenco differiscono per lunghezza, caratteristiche e tipo di attività da svolgere. 

Una lista in R ti permette di riunire una serie di oggetti sotto un unico nome (vale a dire, il nome della lista) in modo ordinato. Questi oggetti possono essere matrici, vettori, data frame, e persino altre liste. Non è nemmeno necessario che questi oggetti siano collegati tra loro in qualche modo.

Si potrebbe dire che una lista è una specie di super tipo di dato: puoi memorizzare praticamente qualsiasi informazione al suo interno!

`@instructions`
Deve semplicemente inviare la tua risposta per iniziare il primo esercizio sulle liste.

`@hint`
Invia la risposta per iniziare il primo esercizio sulle liste.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@solution`
```{r}
# Just submit the answer to start the first exercise on lists.
```

`@sct`
```{r}
success_msg("Forte. Mettiamoci al lavoro!")
```

---

## Creare una lista

```yaml
type: NormalExercise
key: 4beee9cb532c889903218b49b83ab5ef133eac83
xp: 100
skills:
  - 1
```

Creiamo la nostra prima lista! Per costruire una lista, usa la funzione `list()`: 

```
my_list <- list(comp1, comp2 ...)
```

Gli argomenti della funzione lista sono gli stessi componenti della stessa. Ricorda che questi componenti possono essere matrici, vettori, altre liste, ecc.

`@instructions`
Costruisci una lista, denominata `my_list`, che contiene le variabili `my_vector`, `my_matrix` e `my_df` come componenti.

`@hint`
Usa la funzione `list()` con `my_vector`, `my_matrix` e `my_df` come argomenti separati da una virgola.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <-
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Construct list with these different elements:
my_list <- list(my_vector, my_matrix, my_df)
```

`@sct`
```{r}
msg = "Non rimuovere o modificare la definizione delle variabili `my_vector`, `my_matrix` o `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Sembra che `my_list` non contenga gli elementi corretti. Assicurati di passare le variabili `my_vector`, `my_matrix` e `my_df` alla funzione `list()`, separate da virgole, in quest'ordine.")

success_msg("Meraviglioso! Vai al prossimo esercizio.")
```

---

## Creare una lista nominata

```yaml
type: NormalExercise
key: 89dd0126568b1ff5a84033c571907a8a282245e4
xp: 100
skills:
  - 1
```

Complimenti, stai andando alla grande!

Come con una lista delle cose da fare, è importante evitare di dimenticare cosa rappresentano i vari elementi della tua lista. Ecco perché dovresti dare loro dei nomi: 

```
my_list <- list(name1 = your_comp1, 

                name2 = your_comp2)

``` 

In questo modo si crea una lista con i componenti denominati `name1`, `name2` e così via. Se vuoi nominare le tue liste dopo averle create, puoi utilizzare la funzione `names()` come hai fatto con i vettori. I seguenti comandi sono gli stessi dell'esercizio precedente:

```
my_list <- list(your_comp1, your_comp2)
names(my_list) <- c("name1", "name2")
```

`@instructions`
- Modifica il codice dell'esercizio precedente (vedi editor) aggiungendo i nomi ai componenti. Usa per `my_vector` il nome `vec`, per `my_matrix` il nome `mat` e per `my_df` il nome `df`. 
- Stampa `my_list` in modo da poter analizzare l'output.

`@hint`
Il primo metodo per assegnare i nomi ai componenti della lista è il più semplice. Inizia così: 
```
my_list <- list(vec = my_vector)
```
Aggiungi gli altri due componenti seguendo lo stesso procedimento.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(my_vector, my_matrix, my_df)

# Print out my_list
```

`@solution`
```{r}
# Vector with numerics from 1 up to 10
my_vector <- 1:10 

# Matrix with numerics from 1 up to 9
my_matrix <- matrix(1:9, ncol = 3)

# First 10 elements of the built-in data frame mtcars
my_df <- mtcars[1:10,]

# Adapt list() call to give the components names
my_list <- list(vec = my_vector, mat = my_matrix, df = my_df)

# Print out my_list
my_list
```

`@sct`
```{r}
msg = "Non rimuovere o modificare la definizione delle variabili `my_vector`, `my_matrix` o `my_df`!"
ex() %>% check_object("my_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("my_list") %>% check_equal(incorrect_msg = "Sembra che `my_list` non contenga gli elementi corretti.")

ex() %>% check_object("my_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Sembra che `my_list` non contenga i nomi corretti per i componenti. Assicurati di usare i nomi `vec`, `mat` e `df`, rispettivamente. Dai un'occhiata al suggerimento se hai difficoltà.")

ex() %>% check_output_expr("my_list", missing_msg = "Non dimenticare di stampare `my_list` sulla console! Basta aggiungere `my_list` su una nuova riga nell'editor.")

success_msg("Ottimo! Ora non solo sai come costruire liste, ma puoi anche nominarle; una abilità che si rivelerà molto utile nella pratica. Continua con l'esercizio successivo.")
```

---

## Creare una lista nominata (2)

```yaml
type: NormalExercise
key: 19fd17cc792ef870c1558b3a9bae08c1d1e3acae
xp: 100
skills:
  - 1
```

Essendo un grande appassionato di cinema (ricorda il tuo lavoro alla LucasFilms), decidi di iniziare ad memorizzare informazioni sui film più belli con l'aiuto di liste. 

Inizia creando una lista per il film "Shining". Abbiamo già creato le variabili `mov`, `act` e `rev` nel tuo spazio di lavoro R. Dai un'occhiata alla console.

`@instructions`
Completa il codice nell'editor per creare `shining_list`. Contiene tre elementi:

- `moviename`: una stringa di caratteri con il titolo del film (memorizzata in `mov`)
- `actors`: un vettore con i nomi degli attori principali (memorizzati in `act`)
- `reviews`: un data frame che contiene alcune recensioni (memorizzate in `rev`)

Non dimenticare di assegnare i nomi corretti ai componenti della lista (i nomi sono `moviename`, `actors` e `reviews`).

`@hint`
`shining_list <- list(moviename = mov)` è solo una parte della soluzione; il tuo compito è quello di aggiungere anche `act` e `rev` alla lista con i nomi appropriati.

`@pre_exercise_code`
```{r}
mov <- "The Shining"
act      <- c("Jack Nicholson","Shelley Duvall","Danny Lloyd","Scatman Crothers","Barry Nelson")
sources     <- c("IMDb1","IMDb2","IMDb3")
comments    <- c("Best Horror Film I Have Ever Seen","A truly brilliant and scary film from Stanley Kubrick","A masterpiece of psychological horror")
scores      <- c(4.5,4,5)
rev     <- data.frame(scores, sources, comments)
rm(scores, sources, comments)
```

`@sample_code`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov)
```

`@solution`
```{r}
# The variables mov, act and rev are available

# Finish the code to build shining_list
shining_list <- list(moviename = mov, actors = act, reviews = rev)
```

`@sct`
```{r}
msg = "Non rimuovere o modificare la definizione delle variabili preimpostate!"
ex()  %>% check_object("mov", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("rev", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("act", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("shining_list") %>% check_equal(incorrect_msg = "Sembra che `shining_list` non contenga gli elementi corretti: il primo elemento dovrebbe essere `mov`, il secondo elemento `act` e il terzo `rev`.")

ex() %>% check_object("shining_list") %>% check_equal(eq_condition = "equal",incorrect_msg = "Sembra che `shining_list` non contenga i nomi corretti per i componenti: nomina il primo elemento `moviename`, il secondo elemento `actors` e il terzo elemento `reviews`.")

success_msg("Meraviglioso! Ora sai come costruire e nominare le liste. Come nei capitoli precedenti, vediamo come selezionare gli elementi per le liste. Vai al prossimo esercizio.")
```

---

## Selezionare elementi da una lista

```yaml
type: NormalExercise
key: 1ef3278944562caef64b9927dd2ddb6ee52334cd
xp: 100
skills:
  - 1
```

La tua lista sarà spesso composta da numerosi elementi e componenti. Pertanto, individuare un singolo elemento, più elementi o un componente non è sempre semplice. 

Un modo per selezionare un componente è utilizzare la posizione numerata del componente stesso. Ad esempio, per selezionare il primo componente di `shining_list` digita: 

```
shining_list[[1]]
```

Un modo rapido per verificarlo è digitarlo nella console. È importante ricordare che per selezionare gli elementi di un vettore si usano le parentesi quadre: `[ ]`. Non confonderle!

Puoi anche fare riferimento ai nomi dei componenti con `[[ ]]` o con il simbolo `$`. Entrambi selezioneranno il data frame che rappresenta le recensioni: 

```
shining_list[["reviews"]]
shining_list$reviews
``` 

Spesso, oltre a selezionare i componenti di una lista, è necessario accedere a elementi specifici all’interno di tali componenti. Ad esempio, con `shining_list[[2]][1]` si seleziona `actors` presenti nel secondo componente della lista (`shining_list[[2]]`), prelevando il primo elemento (`[1]`). Se digiti questo comando nella console, vedrai che il risultato è Jack Nicholson.

`@instructions`
- Seleziona da `shining_list` il vettore che rappresenta gli attori. Quindi stampa il risultato.
- Seleziona da `shining_list` il secondo elemento del vettore che rappresenta gli attori. Stampa come hai fatto prima.

`@hint`
- Per selezionare il vettore che rappresenta gli attori, puoi utilizzare `$actors`.
- Per selezionare il terzo elemento del vettore che rappresenta gli attori, usa `shining_list$actors[3]`. Come cambieresti la sintassi per selezionare invece il secondo elemento?

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

`@sample_code`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors


# Print the second element of the vector representing the actors
```

`@solution`
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors
shining_list$actors

# Print the second element of the vector representing the actors
shining_list$actors[2]
```

`@sct`
```{r}
msg <- "Non rimuovere o modificare la definizione di `shining_list`, che è pre-caricata nell'ambiente di lavoro!"
ex() %>% check_object("shining_list", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("shining_list$actors", missing_msg = "Hai selezionato e stampato correttamente il vettore che rappresenta gli attori? Puoi usare `shining_list$actors`, per esempio.")

ex() %>% check_output_expr("shining_list$actors[2]", missing_msg = "Per selezionare il secondo attore dal vettore che rappresenta gli attori, dovresti concatenare le tue selezioni: `shining_list$actors` rappresenta gli attori, quindi puoi aggiungere un `[2]` per selezionare il secondo elemento.")

success_msg("Ottimo! Selezionare elementi dalle liste è piuttosto facile, vero? Continua con l'esercizio successivo.")
```

---

## Creare una nuova lista per un altro film

```yaml
type: NormalExercise
key: ce10c83e5b
xp: 100
```

Hai trovato le recensioni di un altro film di Jack Nicholson più recente: The Departed - Il bene e il male

| Punteggi | Comments               |
|--------|------------------------|
| 4.6    | <span translate="no">I would watch it again</span> |
| 5      | <span translate="no">Amazing!</span>               |
| 4.8    | <span translate="no">I liked it</span>             |
| 5      | <span translate="no">One of the best movies</span> |
| 4.2    | <span translate="no">Fascinating plot</span>       |

Sarebbe utile raccogliere tutte le informazioni sul film, come il titolo, gli attori e le recensioni in un'unica variabile. Poiché questi dati hanno forme diverse, è naturale combinarli in una variabile lista.

`movie_title`, contenente il titolo del film, e `movie_actors`, contenente i nomi di alcuni attori del film, sono disponibili nel tuo spazio di lavoro.

`@instructions`
- Crea due vettori, chiamati `scores` e `comments`, che contengono le informazioni delle recensioni riportate nella tabella.
- Trova la media del vettore `scores` e salvala come `avg_review`. 
- Unisci i vettori `scores` e `comments` in un data frame chiamato `reviews_df`. 
- Crea una lista, chiamata `departed_list`, che contenga `movie_title`, `movie_actors`, le recensioni come `reviews_df`, e il punteggio medio delle recensioni come `avg_review`, e stampala.

`@hint`
- Utilizza la funzione `c()` per creare i vettori. 
- Per trovare la media di un vettore, passa il nome del vettore alla funzione `mean()`. 
- Usa la funzione `data.frame()` per creare il data frame `reviews_df`.

`@pre_exercise_code`
```{r}
movie_title <- "The Departed"
movie_actors <- c("Leonardo DiCaprio", "Matt Damon", "Jack Nicholson","Mark Wahlberg","Vera Farmiga", "Martin Sheen")
```

`@sample_code`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, ___
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", ___ 

# Save the average of the scores vector as avg_review


# Combine scores and comments into the reviews_df data frame


# Create and print out a list, called departed_list


```

`@solution`
```{r}
# Use the table from the exercise to define the comments and scores vectors
scores <- c(4.6, 5, 4.8, 5, 4.2)
comments <- c("I would watch it again", "Amazing!", "I liked it", "One of the best movies", "Fascinating plot")

# Save the average of the scores vector as avg_review
avg_review <- mean(scores)

# Combine scores and comments into the reviews_df data frame
reviews_df <- data.frame(scores, comments)

# Create and print out a list, called departed_list
departed_list <- list(movie_title, movie_actors, reviews_df, avg_review)
departed_list
```

`@sct`
```{r}
msg <- "Non cambiare o rimuovere gli oggetti pre-caricati."

ex() %>% check_object("movie_title") %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("movie_actors")  %>% check_equal(eq_condition = "equal", incorrect_msg = msg)
ex() %>% check_object("scores") %>% check_equal(eq_condition = "equal", incorrect_msg = "Hai creato correttamente il vettore `scores`?")
ex() %>% check_object("comments") %>% check_equal(eq_condition = "equal", incorrect_msg = "Hai creato correttamente il vettore `comments`?")
ex() %>% check_correct(
  check_object(.,"avg_review") %>% check_equal(eq_condition = "equal", incorrect_msg = "Hai creato correttamente l'oggetto `avg_review`?"),
  check_function(.,"mean") %>% check_arg("x") %>% check_equal()
)
ex() %>% check_correct(
  check_object(.,"reviews_df") %>% check_equal(eq_condition = "equal", incorrect_msg = "Hai creato correttamente `reviews_df`?"),
  check_function(.,"data.frame") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
  }
)
ex() %>% check_correct(
  check_object(.,"departed_list") %>% check_equal(eq_condition = "equal", incorrect_msg = "Hai creato correttamente `departed_list`?"),
  check_function(.,"list") %>% {
    check_arg(.,"..1") %>% check_equal()
    check_arg(.,"..2") %>% check_equal()
    check_arg(.,"..3") %>% check_equal()
    check_arg(.,"..4") %>% check_equal()
  }
)
ex() %>% check_output_expr("departed_list", missing_msg = "Hai stampato `departed_list`?")

success_msg("Ottimo lavoro! Hai creato con successo un'altra lista di informazioni sui film e combinato diversi componenti in un'unica lista. Congratulazioni per aver terminato il corso!")
```
