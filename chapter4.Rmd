---
title_meta: Capitolo 4
title: Fattori
description: >-
  I dati spesso rientrano in un numero limitato di categorie. Ad esempio, il
  colore dei capelli umani può essere classificato come nero, marrone, biondo,
  rosso, grigio o bianco, con eventualmente altre opzioni per chi si tinge. In
  R, i dati categorici vengono memorizzati in fattori. Questi sono molto
  importanti nell'analisi dei dati, quindi inizia subito a imparare come
  crearli, suddividerli e confrontarli.
---

## Cos'è un fattore e perché lo usi?

```yaml
type: NormalExercise
key: 05273321916d99bb9c0deadf75c6834d25a47244
xp: 100
skills:
  - 1
```

In questo capitolo, ti immergerai nel meraviglioso mondo dei **fattori**.

Il termine fattore si riferisce a un tipo di dato statistico utilizzato per memorizzare variabili categoriche. La differenza tra una variabile categorica e una variabile continua è che una variabile categorica può appartenere a un **numero limitato di categorie**. Una variabile continua, invece, può corrispondere a un numero infinito di valori.

È importante che R sappia se ha a che fare con una variabile continua o categorica, poiché i modelli statistici che svilupperai in futuro tratteranno entrambi i tipi in modo diverso. (Più avanti scoprirai perché è così.)

Un buon esempio di variabile categorica è il sesso. In molte circostanze puoi limitare le categorie di sesso a "Maschio" o "Femmina". (A volte possono essere necessarie diverse categorie. Ad esempio, potresti dover prendere in considerazione la variazione cromosomica, gli animali ermafroditi o diverse norme culturali, ma avrai sempre un numero finito di categorie.)

`@instructions`
Assegna alla variabile `theory` il valore `"factors"`.

`@hint`
Assegna semplicemente una variabile (`<-`); assicurati di usare correttamente le maiuscole.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Assign to the variable theory what this chapter is about!
```

`@solution`
```{r}
# Assign to the variable theory what this chapter is about!
theory <- "factors"
```

`@sct`
```{r}
msg_undef <- "Sembra che tu non abbia definito la variabile `theory`."
msg_incor <- "Il valore di `theory` sembra errato. Assicurati di assegnargli la stringa di caratteri `\"factors\"`. Ricorda che R è case sensitive."
msg_err <- "Assicurati di aver definito `theory` correttamente, usando `<-` per l'assegnazione."

# If get error and theory is undefined, point out the error
ex()  %>% check_or(check_error(.,msg_err), check_object(.,"theory")  %>% check_equal(eval = FALSE))

check_object(.,"theory", undefined_msg = msg_undef)  %>% check_equal(incorrect_msg = msg_incor)
success_msg("Ottimo lavoro! Pronto a iniziare? Continua con l'esercizio successivo!")
```

---

## Cos'è un fattore e perché lo usi? (2)

```yaml
type: NormalExercise
key: 6cc21c842b075347926bb1b244782213df32e370
xp: 100
skills:
  - 1
```

Per creare fattori in R, utilizza la funzione `factor()`. La prima cosa da fare è creare un vettore che contenga tutte le osservazioni appartenenti a un numero limitato di categorie Ad esempio, `sex_vector` contiene il sesso di 5 individui diversi:

```
sex_vector <- c("Male","Female","Female","Male","Male")
```

È chiaro che qui sono in gioco due categorie, o per dirla con il linguaggio R, **due “livelli di un fattore”**: <span translate="no">"Male"</span> e <span translate="no">"Female"</span>.

La funzione `factor()` codificherà il vettore come fattore:

```
factor_sex_vector <- factor(sex_vector)
```

`@instructions`
- Converti il vettore di caratteri `sex_vector` in un fattore con `factor()` e assegna il risultato a `factor_sex_vector`
- Stampa `factor_sex_vector` e osserva come R mostra i livelli del fattore sotto i valori.

`@hint`
Puoi semplicemente utilizzare la funzione `factor()` su `sex_vector`. Dai un'occhiata all’esercizio: la risposta è già lì da qualche parte...

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Sex vector
sex_vector <- c("Male", "Female", "Female", "Male", "Male")

# Convert sex_vector to a factor
factor_sex_vector <-

# Print out factor_sex_vector

```

`@solution`
```{r}
# Sex vector
sex_vector <- c("Male", "Female", "Female", "Male", "Male")

# Convert sex_vector to a factor
factor_sex_vector <- factor(sex_vector)

# Print out factor_sex_vector
factor_sex_vector
```

`@sct`
```{r}
ex()  %>%  check_object("factor_sex_vector")  %>% check_equal(incorrect_msg = "Hai assegnato il fattore di `sex_vector` a `factor_sex_vector`?")
ex()  %>%  check_output_expr("factor_sex_vector", missing_msg = "Non dimenticare di stampare `factor_sex_vector`!")

success_msg("Ottimo! Se vuoi saperne di più sulla funzione `factor()`, non esitare a digitare `?factor` nella console. Questo aprirà una pagina di aiuto. Continua con l'esercizio successivo.");
```

---

## Cos'è un fattore e perché lo usi? (3)

```yaml
type: NormalExercise
key: 5bd4f50afc2c2dbc881e16b8ca94ca56960dff42
xp: 100
skills:
  - 1
```

Esistono due tipi di variabili categoriche: una **variabile categorica nominale** e una **variabile categorica ordinale**.

Una variabile nominale è una variabile categorica senza un ordine implicito. Ciò significa che è impossibile dire che "uno vale più dell'altro". Ad esempio, pensiamo alla variabile categorica `animals_vector` con le categorie `"Elephant"`, `"Giraffe"`, `"Donkey"` e `"Horse"`. In questo caso, è impossibile dire che uno sta al di sopra o al di sotto dell'altro. (Anche se alcuni di voi potrebbero non essere d'accordo ;-) ).

Al contrario, le variabili ordinali hanno un ordine naturale. Consideriamo ad esempio la variabile categorica `temperature_vector` con le categorie: `"Low"`, `"Medium"` e `"High"`. In questo caso è ovvio che `"Medium"` si trova al di sopra di `"Low"`, e `"High"` si trova al di sopra di `"Medium"`.

`@instructions`
Invia la risposta per verificare come R costruisce e stampa le variabili nominali e ordinali. Non preoccuparti se non hai ancora capito tutto il codice, ci arriveremo.

`@hint`
Invia la risposta e osserva la console. Nota come R, nel caso di variabili categoriche ordinali, mostra l’ordine dei livelli del fattore.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Animals
animals_vector <- c("Elephant", "Giraffe", "Donkey", "Horse")
factor_animals_vector <- factor(animals_vector)
factor_animals_vector

# Temperature
temperature_vector <- c("High", "Low", "High","Low", "Medium")
factor_temperature_vector <- factor(temperature_vector, order = TRUE, levels = c("Low", "Medium", "High"))
factor_temperature_vector
```

`@solution`
```{r}
# Animals
animals_vector <- c("Elephant", "Giraffe", "Donkey", "Horse")
factor_animals_vector <- factor(animals_vector)
factor_animals_vector

# Temperature
temperature_vector <- c("High", "Low", "High","Low", "Medium")
factor_temperature_vector <- factor(temperature_vector, order = TRUE, levels = c("Low", "Medium", "High"))
factor_temperature_vector
```

`@sct`
```{r}
msg <- "Non cambiare nulla nel codice di esempio. Semplicemente invia la risposta e controlla la soluzione!"

ex() %>% check_object("animals_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("temperature_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("factor_animals_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("factor_animals_vector", missing_msg = msg)

ex() %>% check_object("factor_temperature_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("factor_temperature_vector", missing_msg = msg)


success_msg("Riesci già a capire cosa sta succedendo in questo esercizio? Fantastico! Continua al prossimo esercizio e approfondisci i dettagli dei livelli dei fattori.")
```

---

## Livelli dei fattori

```yaml
type: NormalExercise
key: 1aa698978d32d1a0befa4700d7da85a648e1d69e
xp: 100
skills:
  - 1
```

Quando ricevi per la prima volta un set di dati, troverai spesso fattori che presentano livelli specifici. Tuttavia, a volte potresti voler modificare i nomi di questi livelli per maggiore chiarezza o per altri motivi. R ti permette di farlo con la funzione `levels()`:

```
levels(factor_vector) <- c("name1", "name2",...)
```

Un buon esempio è rappresentato dai dati grezzi raccolti attraverso un sondaggio. Una domanda comune in questi questionari riguarda il sesso della persona intervistata. Qui, per semplicità, sono state registrate solo due categorie: `"M"` e `"F"`. (Di solito, un sondaggio ben strutturato prevede più categorie, ma comunque i dati categorici vengono memorizzati come fattori. 

```
survey_vector <- c("M", "F", "F", "M", "M")
```

Utilizzare abbreviazioni come `"M"` e `"F"` può essere comodo se stai raccogliendo i dati con carta e penna, ma può creare confusione durante la fase di analisi. Per questo, vorrai poter cambiare i livelli dei fattori `"M"` e `"F"` in `"Male"` e `"Female"` per una maggiore chiarezza.

**Attenzione:** l'ordine di assegnazione dei livelli è importante. Se digiti `levels(factor_survey_vector)`, vedrai che verrà visualizzato l’output `[1] "F" "M"`. Se invece non specifichi i livelli del fattore quando crei il vettore, `R` li ordinerà automaticamente in ordine alfabetico. Per mappare correttamente `"F"` su `"Female"` e `"M"` su `"Male"`, devi assegnare i livelli in quest’ordine `c("Female", "Male")`.

`@instructions`
- Osserva il codice che crea un vettore di fattori a partire da `survey_vector`. Per la prossima istruzione, dovresti utilizzare `factor_survey_vector`.
- Modifica i livelli dei fattori di `factor_survey_vector` in `c("Female", "Male")`. Fai attenzione all’ordine degli elementi nel vettore.

`@hint`
Tieni presente l'ordine in cui devi digitare i livelli dei fattori. Suggerimento: osserva l'ordine di stampa dei livelli quando digiti `levels(factor_survey_vector)`.

`@pre_exercise_code`
```{r}
# no pec
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
```

`@sample_code`
```{r}
# Code to build factor_survey_vector
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)

# Specify the levels of factor_survey_vector
levels(factor_survey_vector) <-

factor_survey_vector
```

`@solution`
```{r}
# Code to build factor_survey_vector
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)

# Specify the levels of factor_survey_vector
levels(factor_survey_vector) <- c("Female", "Male")

factor_survey_vector
```

`@sct`
```{r}
msg = "Non cambiare la definizione di `survey_vector`!"
ex() %>% check_object("survey_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)
msg = "Non cambiare o rimuovere il codice per creare il vettore fattore."
ex()  %>% check_function("factor", not_called_msg = msg) %>% check_arg('x')  %>% check_equal(incorrect_msg = msg)

# MC-note: ideally would want to test assign operator `<-`, and have it highlight whole line.

# MC-note: or negate this test_student_typed, to highlight where they type this incorrect phrase
# test_student_typed('c("Male", "Female")')

ex()  %>% check_object("factor_survey_vector") %>% check_equal(eq_condition = "equal", incorrect_msg = paste("Hai assegnato i livelli di fattore corretti a `factor_survey_vector`? Usa `levels(factor_survey_vector) <- c(\"Female\", \"Male\")`. Ricorda che R è case sensitive!"))

success_msg("Meraviglioso! Procedi al prossimo esercizio.")
```

---

## Fare il riepilogo (summary<i>)</i> di un fattore

```yaml
type: NormalExercise
key: a549f13c0644ccc89cd39a10aa48706754637ed0
xp: 100
skills:
  - 1
```

Al termine di questo corso, una delle tue funzioni preferite in R sarà `summary()`. Questo ti darà una rapida panoramica del contenuto di una variabile:

```
summary(my_var)
```

Tornando al nostro sondaggio, potresti voler sapere quante risposte hai ottenuto per ciascuna categoria, `"Male"` e `"Female"`. La funzione `summary` risponde a questa domanda.

`@instructions`
Esegui la funzione `summary()` di `survey_vector` e `factor_survey_vector`. Confronta i risultati ottenuti. Entrambi i vettori forniscono informazioni utili?

`@hint`
Usa la funzione `summary()` sia su `survey_vector` che su `factor_survey_vector`: è semplicissimo!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")
factor_survey_vector

# Generate summary for survey_vector


# Generate summary for factor_survey_vector

```

`@solution`
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")
factor_survey_vector

# Generate summary for survey_vector
summary(survey_vector)

# Generate summary for factor_survey_vector
summary(factor_survey_vector)
```

`@sct`
```{r}
msg = "Non cambiare nulla delle prime righe che definiscono `survey_vector` e `factor_survey_vector`."

ex() %>% check_object("survey_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("factor_survey_vector",  undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

msg <- "Hai usato correttamente `summary()` per generare un riassunto per `%s`?"

ex() %>% check_output_expr("summary(survey_vector)", missing_msg = sprintf(msg, "survey_vector"))

ex() %>% check_output_expr("summary(factor_survey_vector)", missing_msg = sprintf(msg, "factor_survey_vector"))

success_msg("Ben fatto! Dai un'occhiata all'output. Il fatto che tu abbia identificato `\"Male\"` e `\"Female\"` come livelli del fattore in `factor_survey_vector` permette a R di mostrare il numero di elementi per ogni categoria.")
```

---

## Battaglia dei sessi

```yaml
type: NormalExercise
key: 90ecc160d1ebf2f75bf53f9c3843fc1632bdd0a5
xp: 100
skills:
  - 1
```

Potresti chiederti cosa succede quando cerchi di confrontare gli elementi di un fattore.  In `factor_survey_vector` hai un fattore con due livelli: `"Male"` e `"Female"`. Ma come valuta R questi elementi l'uno rispetto all'altro?

`@instructions`
Leggi il codice nell'editor e invia la risposta per verificare se `male` è maggiore di (`>`) `female`.

`@hint`
Invia la risposta e osserva l'output che viene stampato nella console.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")

# Male
male <- factor_survey_vector[1]

# Female
female <- factor_survey_vector[2]

# Battle of the sexes: Male 'larger' than female?
male > female
```

`@solution`
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")

# Male
male <- factor_survey_vector[1]

# Female
female <- factor_survey_vector[2]

# Battle of the sexes: Male 'larger' than female?
male > female
```

`@sct`
```{r}
msg = "Non cambiare nulla nel codice; invia semplicemente la risposta e guarda il risultato."

ex() %>% check_object("survey_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("factor_survey_vector", undefined_msg = msg) %>% check_equal(eq_condition = "equal", incorrect_msg = msg)

ex() %>% check_object("male", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("female", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("male > female", missing_msg = msg)


success_msg("Che interessante! Di default, R restituisce `NA` quando provi a confrontare valori in un fattore, poiché l'idea non ha senso. Ora imparerai sui fattori ordinati, dove sono possibili confronti più significativi.")
```

---

## Fattori ordinati

```yaml
type: NormalExercise
key: 9ab0928916bf84ab225713a9a1ce40d9e322c6a0
xp: 100
skills:
  - 1
```

Poiché `"Male"` e `"Female"` sono livelli di fattori non ordinati (o nominali), R restituisce un messaggio di avviso che indica che l'operatore “maggiore di” non è applicabile. Come visto in precedenza, R assegna lo stesso valore ai livelli di questi fattori.

Ma non è sempre così! A volte ti capiterà di lavorare anche con fattori che hanno un ordine naturale tra le loro categorie. Se questo è il caso, dobbiamo assicurarci di trasmettere queste informazioni a R...

Supponiamo che tu sia a capo di un team di ricerca composto da cinque Data Analyst e che tu voglia valutare le loro prestazioni. A tal fine, terrai traccia della loro velocità, valuterai ogni analista come `"slow"`, `"medium"` o `"fast"`, e salverai i risultati in `speed_vector`.

`@instructions`
Come primo passo, assegniamo a `speed_vector` un vettore con 5 voci, una per ogni analista. Ogni voce dovrebbe essere `"slow"`, `"medium"` o `"fast"`. Usa l'elenco qui sotto:

- L'analista 1 è “medium” (velocità media),
- L'analista 2 è “slow” (lento),
- L'analista 3 è “slow” (lento),
- L'analista 4 è “medium” (velocità media) e
- L'analista 5 è “fast” (veloce).

Non è ancora necessario specificare questi fattori.

`@hint`
Assegna a `speed_vector` un vettore contenente le stringhe di caratteri `"slow"`, `"medium"` o `"fast"`.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Create speed_vector
speed_vector <-
```

`@solution`
```{r}
# Create speed_vector
speed_vector <- c("medium", "slow", "slow", "medium", "fast")
```

`@sct`
```{r}
ex() %>% check_object("speed_vector") %>% check_equal(incorrect_msg = "`speed_vector` dovrebbe essere un vettore con 5 elementi, uno per ciascuna valutazione di velocità dell'analista. Non usare lettere maiuscole; R distingue tra maiuscole e minuscole!")

success_msg("Ottimo lavoro! Continua con il prossimo esercizio.")
```

---

## Fattori ordinati (2)

```yaml
type: NormalExercise
key: 279077d10248ce03d5f972939ef8576430a16683
xp: 100
skills:
  - 1
```

`speed_vector` dovrebbe essere convertito in un fattore ordinato, poiché le sue categorie seguono un ordine naturale. Per impostazione predefinita, la funzione `factor()` trasforma `speed_vector` in un fattore non ordinato. Per creare un fattore ordinato, devi specificare due argomenti aggiuntivi: `ordered` e `levels`.

```
factor(some_vector,

       ordered = TRUE,

       levels = c("lev1", "lev2" ...))

```

Impostando l'argomento `ordered` su `TRUE` nella funzione `factor()`, indichi che il fattore è ordinato. Con l'argomento `levels` fornisci i valori del fattore nell'ordine corretto.

`@instructions`
A partire da `speed_vector`, crea un vettore di fattori ordinati: `factor_speed_vector`. Imposta `ordered` su `TRUE`, e imposta `levels` su `c("slow", "medium", "fast")`.

`@hint`
Usa la funzione `factor()` su `speed_character_vector` per creare `factor_speed_vector`. L'argomento `ordered` deve essere impostato su `TRUE` poiché esiste un ordine naturale. Inoltre, imposta `levels = c("slow", "medium", "fast")`.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Create speed_vector
speed_vector <- c("medium", "slow", "slow", "medium", "fast")

# Convert speed_vector to ordered factor vector
factor_speed_vector <-

# Print factor_speed_vector
factor_speed_vector
summary(factor_speed_vector)
```

`@solution`
```{r}
# Create speed_vector
speed_vector <- c("medium", "slow", "slow", "medium", "fast")

# Convert speed_vector to ordered factor vector
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "medium", "fast"))

# Print factor_speed_vector
factor_speed_vector
summary(factor_speed_vector)
```

`@sct`
```{r}
msg = "Non cambiare nulla nel comando che specifica la variabile `speed_vector`."

ex() %>% check_object("speed_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_function("factor") %>% {
	check_arg(., 'x') %>% check_equal(incorrect_msg="Il primo argomento che passi a `factor()` dovrebbe essere `speed_vector`.")
	check_arg(., 'ordered') %>% check_equal(incorrect_msg="Assicurati di impostare `ordered = TRUE` all'interno della tua chiamata di `factor()`.")
	check_arg(., 'levels') %>% check_equal(incorrect_msg="Assicurati di impostare `levels = c(\"slow\", \"medium\", \"fast\")` all'interno della tua chiamata di `factor()`.")
	}

ex() %>% check_object("factor_speed_vector") %>% check_equal(eq_condition = "equal", incorrect_msg="C'è ancora qualcosa di sbagliato con `factor_speed_vector`; assicurati di passare solo `speed_vector`, `ordered = TRUE` e `levels = c(\"slow\", \"medium\", \"fast\")` all'interno della tua chiamata di `factor()`.")

                      
                      
success_msg("Ottimo! Dai un'occhiata alla console. Ora è indicato che i livelli hanno effettivamente un ordine associato, con il segno `<`. Continua con l'esercizio successivo.")
```

---

## Confronto tra fattori ordinati

```yaml
type: NormalExercise
key: db16e69805625bcfde227743a8cbc985f8482a37
xp: 100
skills:
  - 1
```

Dopo una complicata giornata di lavoro, il Data Analyst n. 2 entra nel tuo ufficio e inizia a lamentarsi che il Data Analyst n. 5 sta rallentando l'intero progetto. Dato che sai che il Data Analyst n. 2 ha la reputazione di essere un saputello, decidi innanzitutto di verificare se la sua affermazione è vera.

Il fatto che `factor_speed_vector` sia ora ordinato ci permette di confrontare elementi diversi (i Data Analyst in questo caso). Puoi farlo semplicemente utilizzando gli operatori che già conosci.

`@instructions`
- Usa `[2]` per selezionare da `factor_speed_vector` il valore del fattore per il secondo Data Analyst. Salvalo come `da2`.
- Usa `[5]` per selezionare da `factor_speed_vector` il valore del fattore per il quinto Data Analyst. Salvalo come `da5`.
- Verifica se `da2` è maggiore di `da5`; stampa il risultato. Ricorda che puoi utilizzare l'operatore `>` per verificare se un elemento è maggiore dell'altro.

`@hint`
- Per selezionare il valore del fattore per il terzo Data Analyst, devi usare `factor_speed_vector[3]`.
- Per confrontare due valori, puoi utilizzare `>`. Ad esempio: `da3 > da4`.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Create factor_speed_vector
speed_vector <- c("medium", "slow", "slow", "medium", "fast")
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "medium", "fast"))

# Factor value for second data analyst
da2 <-

# Factor value for fifth data analyst
da5 <-

# Is data analyst 2 faster than data analyst 5?

```

`@solution`
```{r}
# Create factor_speed_vector
speed_vector <- c("medium", "slow", "slow", "medium", "fast")
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "medium", "fast"))

# Factor value for second data analyst
da2 <- factor_speed_vector[2]

# Factor value for fifth data analyst
da5 <- factor_speed_vector[5]

# Is data analyst 2 faster data analyst 5?
da2 > da5
```

`@sct`
```{r}
msg = "Non cambiare nulla nei comandi che definiscono `speed_vector` e `factor_speed_vector`!"
ex() %>% check_object("speed_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("factor_speed_vector", undefined_msg = msg) %>% check_equal(eq_condition = "equal", incorrect_msg = msg)


msg <- "Hai selezionato correttamente il valore del fattore per il %s data analyst? Puoi usare `factor_speed_vector[%s]`."
ex() %>% check_object("da2") %>% check_equal(eq_condition = "equal", incorrect_msg = sprintf(msg,"secondo", "2"))

ex() %>% check_object("da5") %>% check_equal(eq_condition = "equal",incorrect_msg = sprintf("quinto", "5"))

ex() %>% check_output_expr("da2 > da5", missing_msg = "Hai confrontato correttamente `da2` e `da5`? Puoi usare il `>`. Stampa semplicemente il risultato.")


success_msg("Bellissimo! Cosa ti dice il risultato? Il secondo data analyst si lamenta del quinto data analyst mentre in realtà è lui a rallentare tutto! Questo conclude il capitolo sui fattori. Con una solida base in vettori, matrici e fattori, sei pronto per immergerti nel meraviglioso mondo dei data frame, una struttura dati molto importante in R!")
```
