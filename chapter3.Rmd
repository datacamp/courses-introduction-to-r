---
title_meta: Hoofdstuk 3
title: Matrices
description: >-
  In dit hoofdstuk leer je werken met matrices in R. Aan het einde kun je
  matrices maken en er basisbewerkingen mee uitvoeren. Je analyseert de
  box-officecijfers van de Star Wars-films en leert hoe je matrices in R
  gebruikt. May the force be with you!
---

## Wat is een matrix?

```yaml
type: NormalExercise
key: d61aeba84c
xp: 100
skills:
  - 1
```

In R is een matrix een verzameling elementen van hetzelfde gegevenstype (numeric, character of logical), gerangschikt in een vast aantal rijen en kolommen. Omdat je alleen met rijen en kolommen werkt, noem je een matrix tweedimensionaal.

Je maakt een matrix in R met de functie `matrix()`. Bekijk het volgende voorbeeld:

```
matrix(1:9, byrow = TRUE, nrow = 3)
```

In de functie `matrix()` geldt:

- Het eerste argument is de verzameling elementen die R in de rijen en kolommen van de matrix plaatst. Hier gebruiken we `1:9`, een snelkoppeling voor `c(1, 2, 3, 4, 5, 6, 7, 8, 9)`.
- Het argument `byrow` geeft aan dat de matrix per rij wordt gevuld. Wil je de matrix per kolom vullen, zet dan `byrow = FALSE`.
- Het derde argument `nrow` geeft aan dat de matrix drie rijen moet hebben.

`@instructions`
Maak een matrix met 3 rijen met de getallen 1 tot en met 9, die rij-voor-rij wordt gevuld.

`@hint`
Lees de opdracht goed; het antwoord staat er al!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
```

`@solution`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
matrix(1:9, byrow = TRUE, nrow = 3)
```

`@sct`
```{r}
ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "Heb je de matrix correct aangemaakt? Kijk eens naar de opdracht, het antwoord is al gegeven!")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "Heb je de matrix correct aangemaakt? Kijk eens naar de opdracht, het antwoord is al gegeven!")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "Heb je de matrix correct aangemaakt? Kijk eens naar de opdracht, het antwoord is al gegeven!")
	}

ex() %>% check_output_expr("matrix(1:9, byrow=TRUE, nrow=3)",missing_msg = "Er lijkt een probleem te zijn met de matrixdefinitie. Kijk eens naar de opdracht, het antwoord is al gegeven!")

success_msg("Geweldig! Ga door naar de volgende oefening.")
```

---

## Matrices analyseren, zul je…

```yaml
type: NormalExercise
key: effc2fb945
xp: 100
skills:
  - 1
```

Tijd om zelf aan de slag te gaan. In de volgende oefeningen analyseer je de box-officecijfers van de Star Wars-franchise. May the force be with you!

In de editor staan drie vectoren gedefinieerd. Elke vector bevat de box-officecijfers van de eerste drie Star Wars-films. Het eerste element van elke vector is de Amerikaanse box office, het tweede element is de niet-Amerikaanse box office (bron: Wikipedia).

In deze oefening combineer je al deze cijfers tot één vector. Daarna bouw je van deze vector een matrix.

`@instructions`
- Gebruik `c(new_hope, empire_strikes, return_jedi)` om de drie vectoren te combineren tot één vector. Noem deze vector `box_office`.
- Bouw een matrix met 3 rijen, waarbij elke rij een film voorstelt. Gebruik hiervoor de functie `matrix()`. Het eerste argument is de vector `box_office` met alle box-officecijfers. Vervolgens specificeer je `nrow = 3` en `byrow = TRUE`. Noem de resulterende matrix `star_wars_matrix`.

`@hint`
- `box_office <- c(new_hope, empire_strikes, return_jedi)` combineert alle getallen in de verschillende vectoren tot één vector met 6 elementen.
- `matrix(box_office, nrow = ..., byrow =  ...)` is een sjabloon voor de oplossing van de tweede instructie.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- 

# Construct star_wars_matrix
star_wars_matrix <- 
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- c(new_hope, empire_strikes, return_jedi)

# Construct star_wars_matrix
star_wars_matrix <- matrix(box_office, nrow = 3, byrow = TRUE) 
```

`@sct`
```{r}
msg <- "Verander niets aan de box office-variabelen `new_hope`, `empire_strikes` en `return_jedi`!"

ex() %>% check_object("new_hope", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("empire_strikes", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("return_jedi", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("box_office") %>% check_equal(incorrect_msg = "Heb je de waarden van `new_hope`, `empire_strikes` en `return_jedi` correct gecombineerd in de vector `box_office`?")

ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "Zorg ervoor dat je de argumenten die je aan `matrix()` doorgeeft correct specificeert: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "Zorg ervoor dat je de argumenten die je aan `matrix()` doorgeeft correct specificeert: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "Zorg ervoor dat je de argumenten die je aan `matrix()` doorgeeft correct specificeert: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	}

ex() %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = "Heb je het resultaat van de `matrix()`-aanroep toegewezen aan `star_wars_matrix`?")

success_msg("De kracht is echt met je! Ga door naar de volgende oefening.")
```

---

## Een matrix benoemen

```yaml
type: NormalExercise
key: f734e8bf74
xp: 100
skills:
  - 1
```

Om je te helpen onthouden wat er in `star_wars_matrix` staat, wil je de namen van de films aan de rijen toevoegen. Dat maakt de gegevens niet alleen makkelijker leesbaar, maar is ook handig om bepaalde elementen uit de matrix te selecteren.

Net als bij vectoren kun je namen toevoegen voor de rijen en kolommen van een matrix.

```
rownames(my_matrix) <- row_names_vector
colnames(my_matrix) <- col_names_vector
```

We hebben alvast twee vectoren voor je klaargezet: `region` en `titles`. Je hebt deze vectoren nodig om respectievelijk de kolommen en rijen van `star_wars_matrix` te benoemen.

`@instructions`
- Gebruik `colnames()` om de kolommen van `star_wars_matrix` te benoemen met de vector `region`.
- Gebruik `rownames()` om de rijen van `star_wars_matrix` te benoemen met de vector `titles`.
- Print `star_wars_matrix` om het resultaat van je werk te zien.

`@hint`
Je kunt `colnames(star_wars_matrix) <- region` gebruiken om de kolommen van `star_wars_matrix` te benoemen. Doe iets soortgelijks om de rijen te benoemen.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region


# Name the rows with titles


# Print out star_wars_matrix
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region
colnames(star_wars_matrix) <- region

# Name the rows with titles
rownames(star_wars_matrix) <- titles

# Print out star_wars_matrix
star_wars_matrix
```

`@sct`
```{r}
msg <- "Verander niets aan de box office-variabelen `new_hope`, `empire_strikes` en `return_jedi`!"

ex()  %>% check_object("new_hope", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("empire_strikes", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("return_jedi", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

msg <- "Verander de inhoud van `star_wars_matrix` niet; alleen de namen van de rijen en kolommen!"

ex()  %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = msg)

msg <- "Verander niets aan de `region` en `titles` vectoren die voor je zijn gedefinieerd."

ex()  %>% check_object("region", undefined_msg = msg)  %>%  check_equal(incorrect_msg = msg)
ex() %>% check_object("titles", undefined_msg = msg) %>% check_equal( incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix") %>% check_equal(eq_condition = "equal",incorrect_msg = "Heb je de rij- en kolomnamen van `star_wars_matrix` correct ingesteld? Gebruik `colnames(star_wars_matrix) <- region` voor de kolomnamen; doe iets soortgelijks om de rijen te benoemen.")

ex() %>% check_output_expr("star_wars_matrix", missing_msg = "Vergeet niet om `star_wars_matrix` af te drukken nadat je de rijen en kolommen hebt benoemd.")

success_msg("Geweldig! Je bent op weg om een R-jedi te worden! Ga door naar de volgende oefening.")
```

---

## De wereldwijde box office berekenen

```yaml
type: NormalExercise
key: 3fd7499a12
xp: 100
skills:
  - 1
```

Het allerbelangrijkste voor een film om meteen legendarisch te worden in Tinseltown zijn de wereldwijde box-officecijfers.

Om de totale boxoffice-omzet voor de drie Star Wars-films te berekenen, tel je de kolom met de Amerikaanse omzet op bij de kolom met de niet-Amerikaanse omzet.

In R berekent de functie `rowSums()` handig de totalen voor elke rij van een matrix. Deze functie maakt een nieuwe vector aan:

```
rowSums(my_matrix)
```

`@instructions`
Bereken de wereldwijde box-officecijfers voor de drie films en zet deze in de vector `worldwide_vector`.

`@hint`
`rowSums(star_wars_matrix)` berekent de som van elke rij, dus de totale box office per film.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
                 "The Empire Strikes Back", 
                 "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)
```

`@sct`
```{r}
msg <- "Verander niets aan de vooraf ingestelde variabelen `box_office_all` en `star_wars_marix`!"

ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "Roep `rowSums()` aan op `star_wars_matrix` en sla het resultaat op in `worldwide_vector`.")

success_msg("Goed gedaan! Ga door naar de volgende oefening.")
```

---

## Een kolom toevoegen voor de wereldwijde box office

```yaml
type: NormalExercise
key: 86b87a8545
xp: 100
skills:
  - 1
```

In de vorige oefening heb je de vector berekend met de wereldwijde boxoffice-inkomsten voor elk van de drie Star Wars-films. Deze vector maakt echter nog geen deel uit van `star_wars_matrix`.

Je kunt één of meerdere kolommen toevoegen aan een matrix met de functie `cbind()`, die matrices en/of vectoren per kolom samenvoegt. Bijvoorbeeld: 

```
big_matrix <- cbind(matrix1, matrix2, vector1 ...)
```

`@instructions`
Voeg `worldwide_vector` als nieuwe kolom toe aan de `star_wars_matrix` en wijs het resultaat toe aan `all_wars_matrix`. Gebruik de functie `cbind()`.

`@hint`
In deze oefening moet je twee variabelen doorgeven aan `cbind()`: `star_wars_matrix` en `worldwide_vector`, in deze volgorde. Wijs het resultaat toe aan `all_wars_matrix`.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- cbind(star_wars_matrix, worldwide_vector)
```

`@sct`
```{r}
msg <- "Verander niets aan de vooraf ingestelde variabelen `box_office_all` en `star_wars_marix`!"
ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(, incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "Sla het resultaat van `rowSums(star_wars_matrix)` op in `worldwide_vector`.")


msg <- "Heb je `cbind()` correct gebruikt om `worldwide_vector` toe te voegen aan `star_wars_matrix`? Je moet `star_wars_matrix` en `world_wide_vector` doorgeven aan `cbind()`, in deze volgorde. De resulterende matrix, `all_wars_matrix`, moet bestaan uit drie rijen en drie kolommen."
ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = msg)


success_msg("Goed gedaan! Na het toevoegen van een kolom aan een matrix, is de logische volgende stap het toevoegen van rijen. Leer hoe in de volgende oefening.");
```

---

## Een rij toevoegen

```yaml
type: NormalExercise
key: bcadb29139
xp: 100
skills:
  - 1
```

Net zoals elke actie een reactie heeft, heeft elke `cbind()` een `rbind()`. (We geven toe: we zijn niet zo goed met metaforen.) 

Je R-werkruimte, waar alle variabelen 'leven' die je hebt gedefinieerd ([lees hier wat een werkruimte is](http://www.statmethods.net/interface/workspace.html)), is al geïnitialiseerd en bevat twee matrices:

- `star_wars_matrix`, die we steeds hebben gebruikt, met gegevens over de oorspronkelijke trilogie,
- `star_wars_matrix2`, met vergelijkbare gegevens voor de prequel-trilogie. 

Bekijk deze matrices in de console als je er meer van wilt weten. Als je de inhoud van de werkruimte wilt zien, kun je `ls()` in de console typen.

`@instructions`
Gebruik `rbind()` om `star_wars_matrix` en `star_wars_matrix2` in deze volgorde aan elkaar te plakken. Ken de resulterende matrix toe aan `all_wars_matrix`.

`@hint`
Voeg de twee matrices aan elkaar toe zoals hieronder:
```
rbind(matrix1, matrix2)
```
Ken het resultaat toe aan `all_wars_matrix`.

`@pre_exercise_code`
```{r}
# Construct matrix
box_office_all <- c(461, 314.4, 290.5, 247.9, 309.3, 165.8)
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi")
col_titles <- c("US","non-US")
star_wars_matrix <- matrix(box_office_all, nrow = 3, byrow = TRUE, dimnames = list(movie_names, col_titles))

# Construct matrix2
box_office_all2 <- c(474.5, 552.5, 310.7, 338.7, 380.3, 468.5)
movie_names2 <- c("The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
star_wars_matrix2 <- matrix(box_office_all2, nrow=3, byrow = TRUE, dimnames = list(movie_names2, col_titles))

# remove all except all_wars_matrix
rm(box_office_all)
rm(movie_names)
rm(col_titles)
rm(box_office_all2)
rm(movie_names2)
```

`@sample_code`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- rbind(star_wars_matrix, star_wars_matrix2)
```

`@sct`
```{r}
msg = "Overschrijf de variabelen die voor je zijn gedefinieerd in de werkruimte (`star_wars_matrix` en `star_wars_matrix2`) niet."
ex() %>% check_object("star_wars_matrix",  undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix2", undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = "Heb je de `rbind()` correct gebruikt om `all_wars_matrix()` te maken? `rbind()` moet twee argumenten hebben: `star_wars_matrix` en `star_wars_matrix2`, in deze volgorde.")

success_msg("Geweldig! Ga verder met de volgende oefening en ontdek hoe je de resultaten van de `rbind()` functie kunt combineren met de `colSums()` functie!")
```

---

## De totale boxoffice-omzet voor de hele saga

```yaml
type: NormalExercise
key: 1bfe5ae096
xp: 100
skills:
  - 1
```

Net zoals `cbind()` een `rbind()` heeft, heeft `colSums()` een `rowSums()`. `all_wars_matrix`, die je in de vorige oefening hebt gemaakt, staat al in je R-werkruimte; typ `all_wars_matrix` om nog eens te kijken. Laten we nu de totale boxoffice-omzet voor de hele saga berekenen.

`@instructions`
- Bereken de totale omzet voor de VS- en niet-VS-regio en ken deze toe aan `total_revenue_vector`. Je kunt de functie `colSums()` gebruiken.
- Print `total_revenue_vector` om de resultaten te bekijken.

`@hint`
Je kunt de functie `colSums()` gebruiken met `star_wars_matrix` als argument om de totale box office per regio te vinden.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- 
  
# Print out total_revenue_vector
```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- colSums(all_wars_matrix)

# Print out total_revenue_vector
total_revenue_vector
```

`@sct`
```{r}
msg = "Verander de inhoud van `all_wars_matrix` niet; het is voor je aangemaakt in de werkruimte."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(eq_condition = "equal", incorrect_msg = msg)

ex() %>% check_function("colSums") %>% check_arg('x') %>% check_equal(incorrect_msg = "Heb je de functie `colSums()` gebruikt op de all_wars_matrix?")

ex() %>% check_object("total_revenue_vector") %>% check_equal(incorrect_msg = "Heb je het resultaat van `colSums(all_wars_matrix)` correct toegewezen aan `total_revenue_vector`?")

ex() %>% check_output_expr("total_revenue_vector", missing_msg = "Vergeet niet om `total_revenue_vector` af te drukken!")

success_msg("Bellissimo! Ga naar de volgende oefening om matrix-subsetting te leren.")
```

---

## Selectie van matrixelementen

```yaml
type: NormalExercise
key: 41d9d69713
xp: 100
skills:
  - 1
```

Net als bij vectoren kun je vierkante haken `[ ]` gebruiken om één of meerdere elementen uit een matrix te selecteren. Waar vectoren één dimensie hebben, hebben matrices er twee. Gebruik daarom een komma om de rijen die je wilt selecteren te scheiden van de kolommen. Bijvoorbeeld:

- `my_matrix[1,2]` selecteert het element op de eerste rij en de tweede kolom.
- `my_matrix[1:3,2:4]` resulteert in een matrix met de data op de rijen 1, 2, 3 en de kolommen 2, 3, 4.

Als je alle elementen van een rij of kolom wilt selecteren, is er vóór of respectievelijk na de komma geen getal nodig:

- `my_matrix[,1]` selecteert alle elementen van de eerste kolom.
- `my_matrix[1,]` selecteert alle elementen van de eerste rij.

Terug naar Star Wars met deze nieuwe kennis! Net als in de vorige oefening is `all_wars_matrix` al beschikbaar in je werkruimte.

`@instructions`
- Selecteer de niet-VS-omzet voor alle films (de volledige tweede kolom van `all_wars_matrix`) en sla het resultaat op als `non_us_all`.
- Gebruik `mean()` op `non_us_all` om de gemiddelde niet-VS-omzet voor alle films te berekenen. Print het resultaat.
- Selecteer nu de niet-VS-omzet voor de eerste twee films in `all_wars_matrix`. Sla het resultaat op als `non_us_some`.
- Gebruik `mean()` opnieuw om het gemiddelde van de waarden in `non_us_some` te printen.

`@hint`
Je kunt de volledige tweede kolom van de matrix `my_matrix` selecteren met `my_matrix[,2]`.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- 
  
# Average non-US revenue

  
# Select the non-US revenue for first two movies
non_us_some <- 
  
# Average non-US revenue for first two movies

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- all_wars_matrix[,2]
  
# Average non-US revenue
mean(non_us_all)
  
# Select the non-US revenue for first two movies
non_us_some <- all_wars_matrix[1:2,2]
  
# Average non-US revenue for first two movies
mean(non_us_some)
```

`@sct`
```{r}
msg = "Verander de inhoud van `all_wars_matrix` niet; deze matrix is al voor je aangemaakt in de werkruimte."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("non_us_all") %>% check_equal(incorrect_msg = "Heb je de gehele tweede kolom van `all_wars_matrix` toegewezen aan `non_us_all`? Je kunt hiervoor `[, 2]` gebruiken!")

ex() %>% check_output_expr("mean(non_us_all)", missing_msg = "Heb je het gemiddelde van de waarden in `non_us_all` berekend door `mean(non_us_all)` aan te roepen? Print gewoon het resultaat uit.")

ex() %>% check_object("non_us_some") %>% check_equal(incorrect_msg = "Heb je de niet-Amerikaanse inkomsten voor de eerste twee films toegewezen aan `non_us_some`? Je kunt hiervoor `[1:2,2]` gebruiken!")

ex() %>% check_output_expr("mean(non_us_some)", missing_msg = "Heb je het gemiddelde van de waarden in `non_us_some` berekend door `mean(non_us_some)` aan te roepen? Print gewoon het resultaat uit.")

success_msg("Goed gedaan! Ga door naar de volgende oefening.")
```

---

## Een beetje rekenwerk met matrices

```yaml
type: NormalExercise
key: c81c656f06
xp: 100
skills:
  - 1
```

Net als bij vectoren werken de standaardoperatoren zoals `+`, `-`, `/`, `*`, enz. in R elementgewijs op matrices.

Zo vermenigvuldigt `2 * my_matrix` elk element van `my_matrix` met twee.

Als kersverse data-analist bij Lucasfilm is het jouw taak om uit te zoeken hoeveel bezoekers elk van de films per geografisch gebied had. Je hebt de totale omzet al in `all_wars_matrix`. Ga ervan uit dat een ticket 5 dollar kostte. Door de boxoffice-cijfers simpelweg door deze ticketprijs te delen, krijg je het aantal bezoekers.

`@instructions`
- Deel `all_wars_matrix` door 5, zodat je het aantal bezoekers in miljoenen krijgt. Ken de resulterende matrix toe aan `visitors`.
- Print `visitors`, zodat je het kunt bekijken.

`@hint`
Het aantal bezoekers is gelijk aan `all_wars_matrix` gedeeld door 5.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- 
  
# Print the estimate to the console

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- all_wars_matrix / 5

# Print the estimate to the console
visitors
```

`@sct`
```{r}
msg = "Verander de inhoud van `all_wars_matrix` niet; deze matrix is al voor je aangemaakt in de werkruimte."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "Het lijkt erop dat `visitors` niet correct is. Deel gewoon `all_wars_matrix` door 5 en sla de resulterende matrix op als `visitors`.")

ex() %>% check_output_expr("visitors", missing_msg = "Vergeet niet om ook `visitors` af te drukken zodat je het kunt bekijken.")

success_msg("Geweldig! Wat vertellen deze resultaten je? Maar liefst 92 miljoen mensen gingen naar A New Hope kijken in Amerikaanse bioscopen! Ga door naar de volgende oefening.")
```

---

## Een beetje rekenwerk met matrices (2)

```yaml
type: NormalExercise
key: 1e0b39d6e9
xp: 100
skills:
  - 1
```

Net zoals `2 * my_matrix` elk element van `my_matrix` met twee vermenigvuldigt, maakt `my_matrix1 * my_matrix2` een matrix waarbij elk element het product is van de overeenkomstige elementen in `my_matrix1` en `my_matrix2`.

Na het resultaat van de vorige oefening te hebben bekeken, merkt grote baas Lucas op dat de ticketprijzen in de loop van de tijd zijn gestegen. Hij vraagt om de analyse opnieuw te doen op basis van de prijzen die je kunt vinden in `ticket_prices_matrix` (bron: verbeelding).

_Zij die vertrouwd zijn met matrices zullen zien dat dit niet de standaard matrixvermenigvuldiging is; daarvoor gebruik je `%*%` in R._

`@instructions`
- Deel `all_wars_matrix` door `ticket_prices_matrix` om het geschatte aantal bezoekers in de VS en buiten de VS voor de zes films te krijgen. Ken het resultaat toe aan `visitors`.
- Selecteer uit de matrix `visitors` de volledige eerste kolom, die het aantal bezoekers in de VS voorstelt. Sla deze selectie op als `us_visitors`.
- Bereken het gemiddelde aantal bezoekers in de VS; print het resultaat.

`@hint`
- Je kunt de functie `mean()` gebruiken om het gemiddelde van de invoer voor de functie te berekenen.
- Om het aantal bezoekers in de VS te krijgen, selecteer je de eerste kolom uit `visitors` met `visitors[ ,1]`.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi", "The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
col_titles <- c("US","non-US")
ticket_prices_matrix <- matrix(c(5, 5, 6, 6, 7, 7, 4, 4, 4.5, 4.5, 4.9, 4.9), nrow = 6, byrow = TRUE, dimnames = list(movie_names,col_titles))
```

`@sample_code`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- 

# US visitors
us_visitors <- 

# Average number of US visitors

```

`@solution`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- all_wars_matrix / ticket_prices_matrix

# US visitors
us_visitors <- visitors[ ,1]

# Average number of US visitors
mean(us_visitors)
```

`@sct`
```{r}
msg <- "Verander de inhoud van `all_wars_matrix` niet; deze matrix is al voor je aangemaakt in de werkruimte."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("ticket_prices_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "Heb je de `visitors` matrix correct aangemaakt? Je moet `all_wars_matrix` delen door `ticket_prices_matrix` om daar te komen.")

ex() %>% check_object("us_visitors") %>% check_equal(incorrect_msg = "Om `us_visitors` te maken, moet je correct de hele eerste kolom van `visitors` selecteren. Je kunt hiervoor `[,1]` gebruiken!")

ex() %>% check_output_expr("mean(us_visitors)", missing_msg = "Zodra je `us_visitors` hebt aangemaakt, kun je `mean()` gebruiken om het gemiddelde aantal bezoekers in de VS te berekenen. Zorg ervoor dat je het resultaat afdrukt.")

success_msg("Het is een feit: de R-kracht is met je! Deze oefening sluit het hoofdstuk over matrices af. Volgende halte op je reis door de R-taal: factoren.")
```
