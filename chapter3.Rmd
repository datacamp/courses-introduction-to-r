---
title_meta: Bölüm 3
title: Matrisler
description: >-
  Bu bölümde, R’de matrislerle nasıl çalışacağınızı öğreneceksiniz. Bölümün
  sonunda, matrisler oluşturabilecek ve matrislerle temel hesaplamaların nasıl
  yapılacağını anlayabileceksiniz. Star Wars filmlerinin gişe rakamlarını analiz
  edecek ve R’de matrisleri nasıl kullanacağınızı öğreneceksiniz. Güç sizinle
  olsun!
---

## Matris nedir?

```yaml
type: NormalExercise
key: d61aeba84c
xp: 100
skills:
  - 1
```

R’de matris, sabit sayıda satır ve sütun halinde düzenlenmiş aynı veri türündeki (sayısal, karakter veya mantıksal) öğelerden oluşan bir koleksiyondur. Yalnızca satır ve sütunlarla çalıştığınız için matris iki boyutlu olarak adlandırılır. 

R’de `matrix()` fonksiyonu ile bir matris oluşturabilirsiniz. Aşağıdaki örneği ele alalım:

```
matrix(1:9, byrow = TRUE, nrow = 3)
```

`matrix()` fonksiyonunda:

- İlk bağımsız değişken, R’nin matrisin satır ve sütunlarına yerleştireceği eleman koleksiyonudur. Burada, `c(1, 2, 3, 4, 5, 6, 7, 8, 9)` için `1:9` kısayolunu kullanıyoruz.
- `byrow` bağımsız değişkeni, matrisin satırlarla doldurulduğunu gösterir. Matrisin sütunlarla doldurulmasını istiyorsak `byrow = FALSE` değişkenini yerleştirmemiz yeterlidir. 
- Üçüncü bağımsız değişken `nrow`, matrisin üç satırlı olması gerektiğini belirtir.

`@instructions`
1'den 9'a kadar sayıları içeren, satır bazında doldurulmuş 3 satırlı bir matris oluşturun.

`@hint`
Ödevi dikkatlice okuyun, cevap zaten içinde!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
```

`@solution`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
matrix(1:9, byrow = TRUE, nrow = 3)
```

`@sct`
```{r}
ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "Matrisi doğru bir şekilde oluşturdunuz mu? Göreve bir göz atın, cevap zaten verilmiş!")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "Matrisi doğru bir şekilde oluşturdunuz mu? Göreve bir göz atın, cevap zaten verilmiş!")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "Matrisi doğru bir şekilde oluşturdunuz mu? Göreve bir göz atın, cevap zaten verilmiş!")
	}

ex() %>% check_output_expr("matrix(1:9, byrow=TRUE, nrow=3)",missing_msg = "Matris tanımında bir sorun var gibi görünüyor. Göreve bir göz atın, cevap zaten verilmiş!")

success_msg("Harika! Bir sonraki alıştırmaya devam edin.")
```

---

## Matrisleri analiz etme

```yaml
type: NormalExercise
key: effc2fb945
xp: 100
skills:
  - 1
```

Şimdi işin zor kısmına geldik. Aşağıdaki egzersizlerde Star Wars serisinin gişe rakamlarını analiz edeceksiniz. Güç sizinle olsun! 

Editörde üç vektör tanımlanmış. Her biri ilk üç Star Wars filminin gişe rakamlarını temsil ediyor. Her vektörün ilk elemanı ABD gişe gelirini, ikinci elemanı ise ABD dışı gişe gelirini ifade etmektedir (kaynak: Wikipedia).

Bu egzersizde tüm bu rakamları tek bir vektörde birleştireceksiniz. Daha sonra bu vektörden bir matris oluşturacaksınız.

`@instructions`
- Üç vektörü tek bir vektörde birleştirmek için `c(new_hope, empire_strikes, return_jedi)` değişkenini kullanın. Bu vektörü `box_office` olarak adlandırın.
- Her satırın bir filmi temsil ettiği 3 satırlı bir matris oluşturun. Bunu yapmak için `matrix()` fonksiyonunu kullanın. İlk bağımsız değişken, tüm gişe rakamlarını içeren `box_office` vektörüdür. Ardından, `nrow = 3` ve `byrow = TRUE` değerlerini belirtmeniz gerekecektir. Elde edilen matrise `star_wars_matrix` adını verin.

`@hint`
- `box_office <- c(new_hope, empire_strikes, return_jedi)` farklı vektörlerdeki tüm sayıları 6 elemanlı tek bir vektörde birleştirir.
- `matrix(box_office, nrow = ..., byrow =  ...)`, ikinci talimatın çözümü için bir şablondur.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- 

# Construct star_wars_matrix
star_wars_matrix <- 
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- c(new_hope, empire_strikes, return_jedi)

# Construct star_wars_matrix
star_wars_matrix <- matrix(box_office, nrow = 3, byrow = TRUE) 
```

`@sct`
```{r}
msg <- "Box office değişkenleri `new_hope`, `empire_strikes` ve `return_jedi` hakkında hiçbir şeyi değiştirmeyin!"

ex() %>% check_object("new_hope", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("empire_strikes", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("return_jedi", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("box_office") %>% check_equal(incorrect_msg = "`new_hope`, `empire_strikes` ve `return_jedi` değerlerini `box_office` vektörüne doğru bir şekilde birleştirdiniz mi?")

ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "`matrix()` fonksiyonuna geçirdiğiniz argümanları doğru bir şekilde belirttiğinizden emin olun: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "`matrix()` fonksiyonuna geçirdiğiniz argümanları doğru bir şekilde belirttiğinizden emin olun: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "`matrix()` fonksiyonuna geçirdiğiniz argümanları doğru bir şekilde belirttiğinizden emin olun: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	}

ex() %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = "`matrix()` çağrısının sonucunu `star_wars_matrix`'e atadınız mı?")

success_msg("Güç gerçekten sizinle! Bir sonraki alıştırmaya devam edin.")
```

---

## Matrisi adlandırma

```yaml
type: NormalExercise
key: f734e8bf74
xp: 100
skills:
  - 1
```

`star_wars_matrix` içinde depolanan verileri hatırlamanıza yardımcı olması için, satırlara filmlerin adlarını ekleyebilirsiniz. Bu sadece verileri okumanıza yardımcı olmakla kalmaz, aynı zamanda matristen belirli elemanları seçmek için de kullanışlıdır. 

Vektörlere benzer şekilde matrisin satırları ve sütunları için de adlar ekleyebilirsiniz.

```
rownames(my_matrix) <- row_names_vector
colnames(my_matrix) <- col_names_vector
```

Biz sizin için iki vektör hazırladık: `region` ve `titles`. Bu vektörlere `star_wars_matrix` matrisinin, sırasıyla, sütunlarını ve satırlarını adlandırmak için ihtiyacınız olacak.

`@instructions`
- `star_wars_matrix` sütunlarını `region` vektörü ile adlandırmak için `colnames()` değişkenini kullanın.
- `star_wars_matrix` satırlarını `titles` vektörü ile adlandırmak için `rownames()` değişkenini kullanın.
- Çalışmanızın sonucunu görmek için `star_wars_matrix` matrisinin çıktısını alın.

`@hint`
`star_wars_matrix` sütunlarını adlandırmak için `colnames(star_wars_matrix) <- region` kullanabilirsiniz. Satırları adlandırmak için de benzer bir şey yapın.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region


# Name the rows with titles


# Print out star_wars_matrix
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region
colnames(star_wars_matrix) <- region

# Name the rows with titles
rownames(star_wars_matrix) <- titles

# Print out star_wars_matrix
star_wars_matrix
```

`@sct`
```{r}
msg <- "Box office değişkenleri `new_hope`, `empire_strikes` ve `return_jedi` hakkında hiçbir şeyi değiştirmeyin!"

ex()  %>% check_object("new_hope", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("empire_strikes", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("return_jedi", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

msg <- "`star_wars_matrix`'in içeriğini değiştirmeyin; sadece satır ve sütunların isimlerini değiştirin!" 

ex()  %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = msg)

msg <- "Sizin için tanımlanmış olan `region` ve `titles` vektörleri hakkında hiçbir şeyi değiştirmeyin."

ex()  %>% check_object("region", undefined_msg = msg)  %>%  check_equal(incorrect_msg = msg)
ex() %>% check_object("titles", undefined_msg = msg) %>% check_equal( incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix") %>% check_equal(eq_condition = "equal",incorrect_msg = "`star_wars_matrix`'in satır ve sütun isimlerini doğru şekilde ayarladınız mı? Sütun isimleri için `colnames(star_wars_matrix) <- region` kullanın; satırları isimlendirmek için benzer bir şey yapın.")

ex() %>% check_output_expr("star_wars_matrix", missing_msg = "Satır ve sütunları adlandırdıktan sonra `star_wars_matrix`'i yazdırmayı unutmayın.")

success_msg("Harika! Bir R jedi olma yolundasınız! Bir sonraki alıştırmaya devam edin.")
```

---

## Dünya çapında gişe hasılatını hesaplama

```yaml
type: NormalExercise
key: 3fd7499a12
xp: 100
skills:
  - 1
```

Bir filmin Tinseltown’da bir anda efsane olabilmesi için en önemli şey dünya çapında elde ettiği gişe rakamlarıdır. 

Üç Star Wars filminin toplam gişe hasılatını hesaplamak için ABD hasılatı sütunu ile ABD dışı hasılat sütununun toplamını almanız gerekir. 

R’de `rowSums()` fonksiyonu, bir matrisin her satırı için toplamları uygun bir şekilde hesaplar. Bu fonksiyon yeni bir vektör oluşturur:

```
rowSums(my_matrix)
```

`@instructions`
Üç film için dünya çapındaki gişe rakamlarını hesaplayın ve bunları `worldwide_vector` adlı vektöre yerleştirin.

`@hint`
`rowSums(star_wars_matrix)` her satırın toplamını, yani her film için toplam gişeyi hesaplar.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
                 "The Empire Strikes Back", 
                 "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)
```

`@sct`
```{r}
msg <- "Önceden ayarlanmış `box_office_all` ve `star_wars_marix` değişkenleri hakkında hiçbir şeyi değiştirmeyin!"

ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "`rowSums()` fonksiyonunu `star_wars_matrix` üzerinde çağırın ve sonucu `worldwide_vector` içinde saklayın.")

success_msg("Aferin! Bir sonraki alıştırmaya devam edin.")
```

---

## Dünya çapında gişe sütunu ekleme

```yaml
type: NormalExercise
key: 86b87a8545
xp: 100
skills:
  - 1
```

Bir önceki egzersizde üç Star Wars filminin her biri için dünya çapında gişe hasılatını içeren vektörü hesapladınız. Ancak bu vektör henüz `star_wars_matrix` matrisinin bir parçası değil.

Matrisleri ve/veya vektörleri sütuna göre birleştiren `cbind()` fonksiyonuyla bir matrise bir veya birden fazla sütun ekleyebilirsiniz. Örneğin: 

```
big_matrix <- cbind(matrix1, matrix2, vector1 ...)
```

`@instructions`
`star_wars_matrix` matrisine yeni `worldwide_vector` sütununu ekleyin ve sonucu `all_wars_matrix` değişkenine atayın. `cbind()` fonksiyonunu kullanın.

`@hint`
Bu egzersizde `cbind()` fonksiyonuna iki değişken aktarmalısınız: sırasıyla `star_wars_matrix` ve `worldwide_vector`. Sonucu `all_wars_matrix` değişkenine atayın.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- cbind(star_wars_matrix, worldwide_vector)
```

`@sct`
```{r}
msg <- "Önceden ayarlanmış `box_office_all` ve `star_wars_marix` değişkenleri hakkında hiçbir şeyi değiştirmeyin!"
ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(, incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "`rowSums(star_wars_matrix)` sonucunu `worldwide_vector` içinde saklayın.")

msg <- "`worldwide_vector`'ı `star_wars_matrix`'e eklemek için `cbind()`'i doğru şekilde kullandınız mı? `cbind()`'e sırasıyla `star_wars_matrix` ve `world_wide_vector`'ı geçmelisiniz. Ortaya çıkan matris, `all_wars_matrix`, üç satır ve üç sütundan oluşmalıdır."
ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = msg)

success_msg("Güzel iş! Bir matrise sütun ekledikten sonra mantıksal bir sonraki adım satır eklemektir. Bir sonraki alıştırmada nasıl yapılacağını öğrenin.");
```

---

## Satır ekleme

```yaml
type: NormalExercise
key: bcadb29139
xp: 100
skills:
  - 1
```

Her gidişin bir dönüşü olduğu gibi `cbind()`’ın bir `rbind()`’ı vardır. (Evet, metaforlar konusunda bayağı kötüyüz). 

Tanımladığınız tüm değişkenlerin “canlı” olduğu R çalışma alanınız ([çalışma alanının ne olduğuna bakın](http://www.statmethods.net/interface/workspace.html)) zaten başlatıldı ve iki matris içeriyor:

- Orijinal üçlemedeki verilerle tüm süreç boyunca kullandığımız `star_wars_matrix`,
- Ön üçleme için benzer verileri içeren `star_wars_matrix2`. 

Daha yakından bakmak isterseniz konsolda bu matrisleri inceleyin. Çalışma alanının içeriğini kontrol etmek isterseniz konsola `ls()` yazabilirsiniz.

`@instructions`
`star_wars_matrix` ve `star_wars_matrix2` matrislerini bu sırayla birbirine yapıştırmak için `rbind()` fonksiyonunu kullanın. Elde edilen matrisi `all_wars_matrix` değişkenine atayın.

`@hint`
İki matrisi şu şekilde birbirine bağlayın:
```
rbind(matrix1, matrix2)
```
Sonucu `all_wars_matrix` değişkenine atayın.

`@pre_exercise_code`
```{r}
# Construct matrix
box_office_all <- c(461, 314.4, 290.5, 247.9, 309.3, 165.8)
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi")
col_titles <- c("US","non-US")
star_wars_matrix <- matrix(box_office_all, nrow = 3, byrow = TRUE, dimnames = list(movie_names, col_titles))

# Construct matrix2
box_office_all2 <- c(474.5, 552.5, 310.7, 338.7, 380.3, 468.5)
movie_names2 <- c("The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
star_wars_matrix2 <- matrix(box_office_all2, nrow=3, byrow = TRUE, dimnames = list(movie_names2, col_titles))

# remove all except all_wars_matrix
rm(box_office_all)
rm(movie_names)
rm(col_titles)
rm(box_office_all2)
rm(movie_names2)
```

`@sample_code`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- rbind(star_wars_matrix, star_wars_matrix2)
```

`@sct`
```{r}
msg = "Çalışma alanında sizin için tanımlanmış olan değişkenleri (`star_wars_matrix` ve `star_wars_matrix2`) geçersiz kılmayın."
ex() %>% check_object("star_wars_matrix",  undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix2", undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = "`all_wars_matrix()` oluşturmak için `rbind()` fonksiyonunu doğru şekilde kullandınız mı? `rbind()` iki argüman almalıdır: `star_wars_matrix` ve `star_wars_matrix2`, bu sırayla.")

success_msg("Harika! Bir sonraki alıştırmaya devam edin ve `rbind()` fonksiyonunun sonuçlarını `colSums()` fonksiyonu ile nasıl birleştirebileceğinizi görün!")
```

---

## Tüm serinin toplam gişe hasılatı

```yaml
type: NormalExercise
key: 1bfe5ae096
xp: 100
skills:
  - 1
```

Her `cbind()` fonksiyonunun `rbind()` fonksiyonu olması gibi her `colSums()` fonksiyonunun bir `rowSums()` fonksiyonu vardır. R çalışma alanınız bir önceki egzersizde oluşturduğunuz `all_wars_matrix` matrisini zaten içeriyor. Bir kez daha bakmak için `all_wars_matrix` yazın. Şimdi de tüm serinin toplam gişe hasılatını hesaplayalım.

`@instructions`
- ABD ve ABD dışı bölge için toplam geliri hesaplayın ve `total_revenue_vector` adresini atayın. `colSums()` fonksiyonunu kullanabilirsiniz.
- Sonuçlara bakmak için `total_revenue_vector` vektörünün çıktısını alın.

`@hint`
Bölgeye göre toplam gişe hasılatını bulmak için bağımsız değişken olarak `star_wars_matrix` ile `colSums()` fonksiyonunu kullanmalısınız.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- 
  
# Print out total_revenue_vector
```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- colSums(all_wars_matrix)

# Print out total_revenue_vector
total_revenue_vector
```

`@sct`
```{r}
msg = "`all_wars_matrix`'in içeriğini değiştirmeyin; çalışma alanında sizin için oluşturulmuştur."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(eq_condition = "equal", incorrect_msg = msg)

ex() %>% check_function("colSums") %>% check_arg('x') %>% check_equal(incorrect_msg = "`colSums()` fonksiyonunu all_wars_matrix üzerinde kullandınız mı?")

ex() %>% check_object("total_revenue_vector") %>% check_equal(incorrect_msg = "`colSums(all_wars_matrix)` sonucunu `total_revenue_vector`'a doğru bir şekilde atadınız mı?")

ex() %>% check_output_expr("total_revenue_vector", missing_msg = "`total_revenue_vector`'u yazdırmayı unutmayın!")

success_msg("Harika! Matris alt kümelemeyi öğrenmek için bir sonraki alıştırmaya geçin.")
```

---

## Matris elemanlarını seçme

```yaml
type: NormalExercise
key: 41d9d69713
xp: 100
skills:
  - 1
```

Vektörlerde olduğu gibi matrislerden de bir veya birden fazla eleman seçmek için köşeli parantezleri `[ ]` kullanabilirsiniz. Vektörler tek bir boyuta sahipken matrisler iki boyutludur. Bu nedenle, seçmek istediğiniz satırları sütunlardan ayırmak için virgül kullanmalısınız. Örneğin: 

- `my_matrix[1,2]` birinci satır ve ikinci sütundaki elemanı seçer.
- `my_matrix[1:3,2:4]`; 1, 2, 3 numaralı satırlar ile 2, 3, 4 numaralı sütunlarda veri içeren bir matrisle sonuçlanır.

Bir satırın veya sütunun tüm elemanlarını seçmek isterseniz sırasıyla virgülden önce veya sonra herhangi bir sayıya gerek yoktur:

- `my_matrix[,1]` birinci sütunun tüm elemanlarını seçer.
- `my_matrix[1,]` birinci satırın tüm elemanlarını seçer.

Yeni edindiğimiz bu bilgiyle Star Wars’a geri dönüyoruz! Önceki egzersizde olduğu gibi çalışma alanınızda `all_wars_matrix` zaten var.

`@instructions`
- Tüm filmler için ABD dışı geliri seçin ( `all_wars_matrix` adresinin ikinci sütununun tamamı), sonucu `non_us_all` olarak saklayın.
- Tüm filmlerin ABD dışı ortalama hasılatını hesaplamak için `non_us_all` adresindeki `mean()` adresini kullanın. Sonucu yazdırın.
- Bu kez, `all_wars_matrix` adresindeki ilk iki film için ABD dışı geliri seçin. Sonucu `non_us_some` olarak depolayın.
- `non_us_some` elemanındaki değerlerin ortalamasını yazdırmak için `mean()` fonksiyonunu tekrar kullanın.

`@hint`
Bir `my_matrix` matrisinin ikinci sütununun tamamını `my_matrix[,2]` ile seçebilirsiniz.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- 
  
# Average non-US revenue

  
# Select the non-US revenue for first two movies
non_us_some <- 
  
# Average non-US revenue for first two movies

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- all_wars_matrix[,2]
  
# Average non-US revenue
mean(non_us_all)
  
# Select the non-US revenue for first two movies
non_us_some <- all_wars_matrix[1:2,2]
  
# Average non-US revenue for first two movies
mean(non_us_some)
```

`@sct`
```{r}
msg = "Lütfen `all_wars_matrix` içeriğini değiştirmeyin; bu matris sizin için çalışma alanında zaten oluşturulmuştur."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("non_us_all") %>% check_equal(incorrect_msg = "`non_us_all`'a `all_wars_matrix`'in tamamının ikinci sütununu atadınız mı? Bunu yapmak için `[, 2]` kullanabilirsiniz!")

ex() %>% check_output_expr("mean(non_us_all)", missing_msg = "`non_us_all` içindeki değerlerin ortalamasını `mean(non_us_all)` çağırarak hesapladınız mı? Sonucu basitçe yazdırın.")

ex() %>% check_object("non_us_some") %>% check_equal(incorrect_msg = "`non_us_some`'a ilk iki filmin ABD dışı gelirini atadınız mı? Bunu yapmak için `[1:2,2]` kullanabilirsiniz!")

ex() %>% check_output_expr("mean(non_us_some)", missing_msg = "`non_us_some` içindeki değerlerin ortalamasını `mean(non_us_some)` çağırarak hesapladınız mı? Sonucu basitçe yazdırın.")

success_msg("Güzel! Bir sonraki alıştırmaya devam edin.")
```

---

## Matrislerle biraz aritmetik

```yaml
type: NormalExercise
key: c81c656f06
xp: 100
skills:
  - 1
```

Vektörlerle öğrendiklerinize benzer şekilde `+`, `-`, `/`, `*` vb. standart işleçler R’deki matrisler üzerinde eleman bazında çalışır. 

Örneğin `2 * my_matrix` fonksiyonu her bir `my_matrix` elemanını ikiyle çarpar.

Lucasfilm’in yeni işe aldığı bir veri analisti olarak, her coğrafi bölge için her bir filme kaç ziyaretçinin gittiğini bulmak göreviniz. `all_wars_matrix` matrisinde toplam hasılat rakamlarını zaten görüyorsunuz. Bir bilet fiyatının 5 dolar olduğunu varsayalım. Gişe rakamlarını bu bilet fiyatına böldüğünüzde ziyaretçi sayısını elde edersiniz.

`@instructions`
- `all_wars_matrix` değerini 5’e böldüğünüzde ziyaretçi sayısı milyon cinsinden elde edilir. Elde edilen matrisi `visitors` değişkenine atayın.
- `visitors` sonucunun çıktısını alarak inceleyin.

`@hint`
Ziyaretçi sayısı `all_wars_matrix` değerinin 5’e bölümüdür.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- 
  
# Print the estimate to the console

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- all_wars_matrix / 5

# Print the estimate to the console
visitors
```

`@sct`
```{r}
msg = "`all_wars_matrix`'in içeriğini değiştirmeyin; bu matris sizin için çalışma alanında zaten oluşturulmuştur."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "`visitors`'ın doğru olmadığını düşünüyoruz. Sadece `all_wars_matrix`'i 5'e bölün ve ortaya çıkan matrisi `visitors` olarak saklayın.")

ex() %>% check_output_expr("visitors", missing_msg = "`visitors`'ı da yazdırmayı unutmayın, böylece bir göz atabilirsiniz.")

success_msg("Harika! Bu sonuçlar size ne anlatıyor? ABD sinemalarında A New Hope'u izlemeye tam 92 milyon insan gitmiş! Bir sonraki alıştırmaya devam edin.")
```

---

## Matrislerle biraz aritmetik (2)

```yaml
type: NormalExercise
key: 1e0b39d6e9
xp: 100
skills:
  - 1
```

Tıpkı `2 * my_matrix` fonksiyonunun her `my_matrix` elemanını ikiyle çarpması gibi, `my_matrix1 * my_matrix2` fonksiyonu da her bir elemanın, `my_matrix1` ve `my_matrix2` içinde karşılık gelen elemanların çarpımı olduğu bir matris oluşturur. 

Önceki egzersizin sonucunu inceleyen büyük patron Lucas, bilet fiyatlarının zaman içinde arttığına dikkat çekiyor. `ticket_prices_matrix` matrisinde bulabileceğiniz fiyatlara göre analizin yeniden yapılmasını istiyor (kaynak: hayal gücü).

_Matrislere aşina olanlar, bunun R’de `%*%` fonksiyonunun kullanılmasını gerektiren standart matris çarpımı olmadığını fark edecektir._

`@instructions`
- Altı film için tahmini ABD'li ve ABD'li olmayan ziyaretçi sayısını elde etmek için `all_wars_matrix` adresini `ticket_prices_matrix` adresine bölün. Sonucu `visitors` değişkenine atayın.
- `visitors` matrisinden, ABD'deki ziyaretçi sayısını temsil eden ilk sütunun tamamını seçin. Bu seçimi `us_visitors` olarak depolayın.
- Ortalama ABD ziyaretçi sayısını hesaplayın; sonucu yazdırın.

`@hint`
- Fonksiyona eklenen girdilerin ortalamasını hesaplamak için `mean()` fonksiyonunu kullanabilirsiniz.
- ABD'deki ziyaretçi sayısını elde etmek için `visitors[ ,1]` adresini kullanarak `visitors` adresinden ilk sütunu seçin.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi", "The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
col_titles <- c("US","non-US")
ticket_prices_matrix <- matrix(c(5, 5, 6, 6, 7, 7, 4, 4, 4.5, 4.5, 4.9, 4.9), nrow = 6, byrow = TRUE, dimnames = list(movie_names,col_titles))
```

`@sample_code`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- 

# US visitors
us_visitors <- 

# Average number of US visitors

```

`@solution`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- all_wars_matrix / ticket_prices_matrix

# US visitors
us_visitors <- visitors[ ,1]

# Average number of US visitors
mean(us_visitors)
```

`@sct`
```{r}
msg <- "`all_wars_matrix`'in içeriğini değiştirmeyin; bu matris sizin için çalışma alanında zaten oluşturulmuştur."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("ticket_prices_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "`visitors` matrisini doğru bir şekilde oluşturduğunuzdan emin misiniz? Oraya ulaşmak için `all_wars_matrix`'i `ticket_prices_matrix`'e bölmelisiniz.")

ex() %>% check_object("us_visitors") %>% check_equal(incorrect_msg = "`us_visitors`'ı oluşturmak için `visitors`'ın tamamının ilk sütununu doğru bir şekilde seçmelisiniz. Bunun için `[,1]` kullanabilirsiniz!")

ex() %>% check_output_expr("mean(us_visitors)", missing_msg = "`us_visitors`'ı oluşturduktan sonra, ABD'deki ziyaretçilerin ortalama sayısını hesaplamak için `mean()` fonksiyonunu kullanabilirsiniz. Sonucu yazdırdığınızdan emin olun.")

success_msg("Bir gerçek: R gücü sizinle! Bu alıştırma, matrisler konusundaki bölümü tamamlıyor. R dilindeki yolculuğunuzun bir sonraki durağı: faktörler.")
```
