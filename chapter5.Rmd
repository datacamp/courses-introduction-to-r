---
title_meta: Bölüm 5
title: Veri çerçeveleri
description: >-
  Birlikte çalışacağınız veri kümelerinin birçoğu veri çerçeveleri olarak
  depolanır. Bu bölümün sonunda bir veri çerçevesi oluşturabilecek, bir veri
  çerçevesinin ilgi çekici kısımlarını seçebilecek ve bir veri çerçevesini
  belirli değişkenlere göre sıralayabileceksiniz.
---

## Veri çerçevesi nedir?

```yaml
type: NormalExercise
key: 7f95849020a2563168920409022ce7bed20835b5
xp: 100
skills:
  - 1
```

Matrislerle ilgili bölümden hatırlayabileceğiniz gibi, bir matrise koyduğunuz tüm elemanların aynı tipte olması gerekir. Orada Star Wars hakkındaki veri kümeniz yalnızca sayısal elemanlar içeriyordu. 

Buna karşılık, bir pazar araştırması anketi yaparken genellikle şu gibi sorularla karşılaşırsınız:

- "Evli misiniz?" veya "Evet/Hayır" soruları (`logical`).
- "Kaç yaşındasınız?" (`numeric`).
- "Bu ürün hakkında ne düşünüyorsunuz?" veya diğer "açık uçlu" sorular (`character`).
- ...

Çıktı, yani katılımcıların yukarıda formüle edilen sorulara verdikleri yanıtlar, farklı veri türlerinden oluşan bir veri kümesidir. Kendinizi sık sık tek bir veri türü yerine farklı veri türleri içeren veri kümeleriyle çalışırken bulacaksınız. 

Veri çerçevesi, bir veri kümesinin değişkenlerini sütunlar, gözlemleri ise satırlar halinde içerir. Bu, SAS veya SPSS gibi farklı istatistiksel yazılım paketlerinden gelenler için tanıdık bir kavram olacaktır.

`@instructions`
Yanıtı gönderin. `mtcars` adlı yerleşik örnek veri çerçevesinden alınan veriler konsola yazdırılır.

`@hint`
Yanıtı gönderin ve sihre tanık olun!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Print out built-in R data frame
mtcars 
```

`@solution`
```{r}
# Print out built-in R data frame
mtcars 
```

`@sct`
```{r}
ex() %>% check_output_expr("mtcars", missing_msg = "Kod hakkında hiçbir şeyi değiştirmeyin, `mtcars` çıktısını verdiğinizden emin olun.")

success_msg("Harika! Bir sonraki alıştırmaya devam edin.")
```

---

## Veri kümenize hızlıca bakma

```yaml
type: NormalExercise
key: 3d0e64ecf5f69521ee538ecc713caa02b8b0ec46
xp: 100
skills:
  - 1
```

Vay be, ne kadar çok araba var! 

Büyük veri kümeleriyle çalışmak veri analizinde alışılmadık bir durum değildir. (Aşırı) büyük veri kümeleri ve veri çerçeveleri ile çalışırken veri analisti olarak ilk göreviniz, yapısını ve ana elemanlarını net bir şekilde anlamaktır. Bu nedenle, tüm veri kümesinin yalnızca küçük bir bölümünü göstermek genellikle yararlıdır. 

Peki R’de bu nasıl yapılır? `head()` fonksiyonu, bir veri çerçevesinin ilk gözlemlerini göstermenizi sağlar. Benzer şekilde `tail()` fonksiyonu ise veri kümenizdeki son gözlemleri yazdırır.

Hem `head()` hem de `tail()`, veri kümenizdeki farklı değişkenlerin adlarını içeren “başlık” adlı bir üst satır yazdırır.

`@instructions`
Başlığa ve ilk gözlemlere bakmak için `mtcars` veri kümesinde `head()` fonksiyonunu çağırın.

`@hint`
`head(mtcars)`, `mtcars` veri çerçevesinin ilk gözlemlerini gösterir.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Call head() on mtcars

```

`@solution`
```{r}
# Call head() on mtcars
head(mtcars)
```

`@sct`
```{r}
ex() %>% check_function("head") %>% check_arg('x') %>% check_equal(incorrect_msg = "Doğru bir şekilde `mtcars`'ı `head()` fonksiyonuna geçirdiniz mi?")

ex() %>% check_output_expr("head(mtcars)", missing_msg = "Sadece `head()` çağrısının sonucunu yazdırın, yeni bir değişkene atamanıza gerek yok.")

success_msg("Harika! Peki, bu veri setinde neler var? Örneğin, `hp` aracın beygir gücünü temsil eder; Datsun, gösterilen 6 araba arasında en düşük beygir gücüne sahiptir. Değişkenlerin anlamının tam bir özetini görmek için konsola `?mtcars` yazın ve yardım sayfasını okuyun. Bir sonraki alıştırmaya devam edin!");
```

---

## Yapıya göz atma

```yaml
type: NormalExercise
key: f4d5b1a2c4aef31645fc7e3505e699fb6e48f3e6
xp: 100
skills:
  - 1
```

Verilerinize hızlı bir genel bakış elde etmek için sıklıkla kullanılan bir başka yöntem de `str()` fonksiyonudur. `str()` fonksiyonu size veri kümenizin yapısını gösterir. Bir veri çerçevesi için size şunları söyler:

- Toplam gözlem sayısı (ör. 32 araç türü)
- Toplam değişken sayısı (ör. 11 araç özelliği)
- Değişken adlarının tam listesi (ör. `mpg`, `cyl`...)
- Her bir değişkenin veri türü (ör. `num`)
- İlk gözlemler

`str()`] fonksiyonunu uygulamak, genellikle yeni bir veri kümesi veya veri çerçevesi aldığınızda yapacağınız ilk şey olacaktır. Bunu yapmak, gerçek analize geçmeden önce veri kümeniz hakkında daha fazla bilgi edinmek için harika bir yoldur.

`@instructions`
`mtcars` veri kümesinin yapısını araştırın. Yukarıda belirtildiği gibi aynı sayıları, değişkenleri ve veri türlerini gördüğünüzden emin olun.

`@hint`
`str()` fonksiyonunu `mtcars` üzerinde kullanın.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Investigate the structure of mtcars

```

`@solution`
```{r}
# Investigate the structure of mtcars
str(mtcars)
```

`@sct`
```{r}
ex() %>% check_output_expr("str(mtcars)", missing_msg = "`str()` fonksiyonunu `mtcars` üzerinde doğru şekilde çağırdınız mı?")

success_msg("Güzel iş! Bir veri kümesinin `str()` fonksiyonunu görüntüleyerek birçok bilgi bulabilirsiniz. Bir sonraki alıştırmaya devam edin.")
```

---

## Veri çerçevesi oluşturma

```yaml
type: NormalExercise
key: df0b89706d90526b3c0bbe15e400b74cbd900704
xp: 100
skills:
  - 1
```

Yerleşik veri kümelerini kullanmak kendi veri kümelerinizi oluşturmanın yarısı kadar bile eğlenceli olmadığından, bu bölümün geri kalanı kişisel olarak geliştirdiğiniz veri kümesini temel alacak. Sırt roketinizi takın çünkü uzayı keşfe çıkıyoruz! 

İlk hedef olarak, güneş sistemimizdeki sekiz gezegenin temel özelliklerini tanımlayan bir veri çerçevesi oluşturmak istiyorsunuz. Yakın arkadaşınız Buzz'a göre bir gezegenin temel özellikleri şunlardır:

- Gezegenin türü (Karasal veya Gaz Bulutu).
- Dünya’nın çapına göre gezegenin çapı.
- Dünya'nınkine göre gezegenin Güneş etrafındaki dönüşü.
- Gezegenin halkalarının olup olmadığı (TRUE veya FALSE).

[Wikipedia](https://en.wikipedia.org/wiki/Planet)’da kaliteli bir araştırma yaptıktan sonra, gerekli vektörleri oluşturacak kadar kendinize güveniyorsunuz: `name`, `type`, `diameter`, `rotation` ve `rings`. Bu vektörler editörde zaten kodlandı. Bu vektörlerin her birindeki ilk eleman ilk gözleme karşılık gelir.

`data.frame()` fonksiyonu ile bir veri çerçevesi oluşturun. Bağımsız değişken olarak, daha önceki vektörleri geçirin: Bunlar veri çerçevenizin farklı sütunları haline gelecektir. Her sütun aynı uzunlukta olduğundan, geçirdiğiniz vektörlerin de aynı uzunlukta olması gerekir. Ancak bunların farklı veri türleri içermesinin mümkün (ve muhtemel) olduğunu unutmayın.

`@instructions`
Bir veri çerçevesi oluşturmak için `data.frame()` fonksiyonunu kullanın. Sırasıyla `name`, `type`, `diameter`, `rotation` ve `rings` vektörlerini `data.frame()` çerçevesine bağımsız değişken olarak geçirin. Ortaya çıkan veri çerçevesini `planets_df` olarak adlandırın.

`@hint`
`data.frame()` çağrınız aşağıdaki gibi başlar:
```
data.frame(planets, type, diameter)
```
Tamamlayabilir misiniz?

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03, 
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <-

```

`@solution`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sct`
```{r}
msg = "Vektörlerin tanımında hiçbir şeyi değiştirmeyin. Sadece `planets_df` oluşturmak için bir `data.frame()` çağrısı ekleyin."
ex() %>% check_object("name", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("type", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("diameter", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("rotation", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("rings", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("planets_df") %>% check_equal(incorrect_msg = "Doğru bir şekilde `data.frame()` çağrısı yaparak `planets_df` oluşturduğunuzdan emin misiniz? `data.frame()` içinde tüm vektörleri doğru sırayla geçirdiğinizden emin olun: `name`, `type`, `diameter`, `rotation` ve son olarak `rings`.")

success_msg("Harika iş! Bildiğiniz gibi, bir sonraki mantıklı adım, az önce oluşturduğunuz veri çerçevesini incelemektir. Bir sonraki alıştırmaya geçin.");
```

---

## Veri çerçevesi oluşturma (2)

```yaml
type: NormalExercise
key: c13ea421dd078030a225f49e53a8927ce8fefbe0
xp: 100
skills:
  - 1
```

`planets_df` veri çerçevesi 8 gözlem ve 5 değişkene sahip olmalıdır. Doğrudan kullanabilmeniz için çalışma alanında kullanılabilir hale getirilmiştir.

`@instructions`
Yeni `planets_df` değişkeninin yapısını araştırmak için `str()` fonksiyonunu kullanın.

`@hint`
`planets_df` çalışma alanınızda zaten mevcuttur, bu nedenle `str(planets_df)` işinizi görecektir.

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# Check the structure of planets_df
```

`@solution`
```{r}
# Check the structure of planets_df
str(planets_df)
```

`@sct`
```{r}
msg = "Çalışma alanında zaten mevcut olan `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("str(planets_df)", missing_msg = "`planets_df` yapısını doğru bir şekilde görüntülediniz mi? Bunu yapmak için `str()` kullanın!")

success_msg("Harika! Artık `planets_df` veri kümesini net bir şekilde anladığınıza göre, ondan nasıl eleman seçeceğinizi görme zamanı. Bir sonraki alıştırmalarda bununla ilgili her şeyi öğrenin!")
```

---

## Veri çerçevesi elemanlarını seçme

```yaml
type: NormalExercise
key: 8c664726b8a173cda730cbb20a52ac1795d9a0e9
xp: 100
skills:
  - 1
```

Vektörler ve matrislerde olduğu gibi, bir veri çerçevesindeki elemanları köşeli parantezler `[ ]` yardımıyla seçersiniz. Virgül kullanarak, satırlardan ve sütunlardan ayrı ayrı nelerin seçileceğini belirtebilirsiniz. Örneğin:

- `my_df[1,2]`, `my_df` içindeki birinci satırda ve ikinci sütunda bulunan değeri seçer.
- `my_df[1:3,2:4]`, `my_df` içindeki 1, 2, 3. satırları ve 2, 3, 4. sütunları seçer.

Bazen bir satırın veya sütunun tüm elemanlarını seçmek istersiniz. Örneğin `my_df[1, ]`, birinci satırın tüm öğelerini seçer. Şimdi bu tekniği `planets_df` üzerinde uygulayalım!

`@instructions`
- `planets_df` veri çerçevesinden Merkür’ün çapını seçin: Birinci satır ve üçüncü sütundaki değerdir. Sonucu yazdırın.
- `planets_df` veri çerçevesinden Mars ile ilgili tüm verileri seçin (dördüncü satır). Sonucu yazdırın.

`@hint`
Venüs’ün çapını seçmek için (ikinci satır) şuna ihtiyacınız olacaktır: `planets_df[2,3]`. O zaman Merkür için neye ihtiyacınız olur?

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Print out diameter of Mercury (row 1, column 3)


# Print out data for Mars (entire fourth row)

```

`@solution`
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Print out diameter of Mercury (row 1, column 3)
planets_df[1,3]

# Print out data for Mars (entire fourth row)
planets_df[4, ]
```

`@sct`
```{r}
msg = "Lütfen `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("planets_df[1,3]", missing_msg = "Merkür'ün çapını doğru bir şekilde seçip yazdırdınız mı? `[1,3]` kullanabilirsiniz.")

ex() %>% check_output_expr("planets_df[4, ]", missing_msg = "Mars için tüm verileri doğru bir şekilde seçip yazdırdınız mı? `[4,]` kullanabilirsiniz.")

success_msg("Harika! Veri çerçevenizden elemanları indeksle seçmenin yanı sıra, sütun adlarını da kullanabilirsiniz. Nasıl yapıldığını öğrenmek için bir sonraki alıştırmaya geçin.")
```

---

## Veri çerçevesi elemanlarını seçme (2)

```yaml
type: NormalExercise
key: faf104fb0c605fd89f048648a4a588200bc89c76
xp: 100
skills:
  - 1
```

Bir veri çerçevesinin elemanlarını seçmek için sayıları kullanmak yerine, değişken adlarını kullanarak veri çerçevesinin sütunlarını da seçebilirsiniz. 

`type` sütununun ilk üç öğesini seçmek istediğinizi varsayalım. Bunu yapmanın bir yolu şudur:

```
planets_df[1:3,2]
```

Bu yaklaşımın olası bir dezavantajı, `type` sütun numarasını bilmenizin (veya aramanızın) zorunlu olmasıdır. Çok sayıda değişkeniniz varsa bunu yapmak zorlaşır. Genellikle sadece değişken adını kullanmak daha kolaydır:

```
planets_df[1:3,"type"]
```

`@instructions`
`planets_df` veri çerçevesinin `"diameter"` sütunundaki ilk 5 değeri seçin ve yazdırın.

`@hint`
`planets_df[1:5, ...]` ile ilk beş değeri seçebilirsiniz. Yalnızca `"diameter"` sütununu seçmek için `...` bitini doldurabilir misiniz?

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Select first 5 values of diameter column

```

`@solution`
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Select first 5 values of diameter column
planets_df[1:5, "diameter"]
```

`@sct`
```{r}
msg = "Lütfen `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr("planets_df[1:5, \"diameter\"]", missing_msg = "Çap sütunundan ilk beş değeri doğru bir şekilde seçip yazdırdınız mı? Burada `[1:5, \"diameter\"]` kullanabilirsiniz.")

success_msg("Güzel! Bir sonraki alıştırmaya devam edin!")
```

---

## Sadece halkalı gezegenler

```yaml
type: NormalExercise
key: e550ecb6ec45b856e6160ddfbb3d7875998e8365
xp: 100
skills:
  - 1
```

Genellikle bir veri çerçevesinden tam bir sütunu, yani belirli bir değişkeni seçmek istersiniz. Örneğin, `diameter` değişkeninin tüm öğelerini seçmek istiyorsanız şunların her ikisi de işinizi görecektir:

```
planets_df[,3]
planets_df[,"diameter"]
```

Ancak kestirme bir yol var. Sütunlarınızın adları varsa `$` işaretini kullanabilirsiniz:

```
planets_df$diameter
```

`@instructions`
- `planets_df` veri çerçevesinden `rings` değişkenini seçmek için `$` işaretini kullanın. Ortaya çıkan vektörü `rings_vector` olarak depolayın.
- Doğru yapıp yapmadığınızı görmek için `rings_vector` sonucunun çıktısını alın.

`@hint`
`planets_df$diameter` fonksiyonu, `planets_df` içinden `diameter` sütununu seçer. O zaman `rings` sütununu seçmek için neye ihtiyacınız vardır?

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# planets_df is pre-loaded in your workspace

# Select the rings variable from planets_df
rings_vector <- 
  
# Print out rings_vector
```

`@solution`
```{r}
# planets_df is pre-loaded in your workspace

# Select the rings variable from planets_df
rings_vector <- planets_df$rings

# Print out rings_vector
rings_vector
```

`@sct`
```{r}
msg = "Lütfen `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("rings_vector") %>% check_equal(incorrect_msg = "`rings` değişkenini `planets_df`'den doğru bir şekilde seçtiniz mi? `$rings` kullanın. Sonucu `rings_vector` olarak saklayın.")

ex() %>% check_output_expr("rings_vector", missing_msg = "`rings_vector`'ü oluşturduktan sonra yazdırmayı unutmayın!")

success_msg("Harika! Bir sonraki alıştırmaya devam edin ve alt kümeleme için başka bir yol keşfedin!")
```

---

## Sadece halkalı gezegenler (2)

```yaml
type: NormalExercise
key: 1581bf4667477f274188f4f637ec7fdc73659651
xp: 100
skills:
  - 1
```

Güneş sistemimizdeki bazı gezegenlerin halkaları olduğunu, bazılarının ise olmadığını muhtemelen liseden hatırlıyorsunuz. Ne yazık ki isimlerini hatırlayamıyorsunuz. R size yardım edebilir mi?

Konsola `rings_vector` yazarsanız şunu elde edersiniz:

```
[1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE
```

Yani ilk dört gözlemin (veya gezegenin) bir halkası yok (`FALSE`) ancak diğer dördünün var (`TRUE`). Buna karşılık, bu gezegenlerin isimleri, çapları vb. hakkında güzel bir genel bakış elde edemezsiniz. Halkalı dört gezegenin verilerini seçmek için `rings_vector` değişkenini kullanmayı deneyelim.

`@instructions`
Editördeki kod, halkaları olan tüm gezegenlerin `name` sütununu seçer. Kodu, yalnızca `name` sütunu yerine halkaları olan gezegenlerin _tüm_ sütunları seçilecek şekilde uyarlayın.

`@hint`
_Tüm_ sütunları seçmek için `[ ]` içindeki sütunlar kısmını boş bırakmanız gerektiğini unutmayın! Yani `[rings_vector, ]` gerekli olacak.

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)

rings_vector <- planets_df$rings
```

`@sample_code`
```{r}
# planets_df and rings_vector are pre-loaded in your workspace

# Adapt the code to select all columns for planets with rings
planets_df[rings_vector, "name"]
```

`@solution`
```{r}
# planets_df and rings_vector are pre-loaded in your workspace

# Adapt the code to select all columns for planets with rings
planets_df[rings_vector, ]
```

`@sct`
```{r}
msg <- "Lütfen `planets_df` veya `rings_vector`'ı kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("rings_vector", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_output_expr('planets_df[rings_vector, ]', missing_msg = "Kodunuzu, halkaları olan gezegenler için _tüm_ sütunları seçmek üzere doğru şekilde uyarladınız mı? `planets_df[rings_vector, ]` kullanabilirsiniz. Burada virgülü eklediğinizden emin olun, bu çok önemlidir!")

success_msg("Harika! Bu oldukça sıkıcı bir çözümdür. Bir sonraki alıştırma size bunu daha özlü bir şekilde nasıl yapacağınızı öğretecek.")
```

---

## Sadece halkalı gezegenler ama kestirme yol

```yaml
type: NormalExercise
key: a4a8b72a74097196eb2f8a28b056987aae834565
xp: 100
skills:
  - 1
```

Peki önceki egzersizlerde tam olarak ne öğrendiniz? Bir veri çerçevesinden (`planets_df`) belirli bir koşulun doğru olup olmamasına göre (halkalı veya halkasız) bir alt küme seçtiniz ve ilgili tüm verileri çıkarmayı başardınız. Oldukça iyi! Şimdiye kadar NASA muhtemelen CV'nizle flört etmeye başlamıştır bile ;-). 

Şimdi bir seviye yukarı çıkalım ve `subset()` fonksiyonunu kullanalım. `subset()` fonksiyonunu, önceki egzersizlerde yaptığınızın aynısını yapmak için bir kestirme yol olarak görmelisiniz. 

```
subset(my_df, subset = some_condition)
``` 

`subset()` fonksiyonunun ilk bağımsız değişkeni, alt kümesini istediğiniz veri kümesini belirtir. İkinci bağımsız değişkeni ekleyerek R’ye doğru alt kümeyi seçmesi için gerekli bilgi ve koşulları vermiş olursunuz. 

Aşağıdaki kod, bir önceki egzersizde elde ettiğiniz sonucun aynısını verecektir ancak bu sefer `rings_vector` gerekli değil!

```
subset(planets_df, subset = rings)
```

`@instructions`
Dünya’dan daha küçük çapa sahip gezegenleri seçmek için `planets_df` veri çerçevesinde `subset()` fonksiyonunu kullanın. `diameter` değişkeni, gezegenin çapının Dünya gezegenine göre göreceli bir ölçüsü olduğundan `diameter < 1` koşulunuzdur.

`@hint`
`subset(planets_df, subset = ...)` problemi çözdü denebilir. Peki `...` boşluğunu doldurabilir misiniz?

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# planets_df is pre-loaded in your workspace

# Select planets with diameter < 1

```

`@solution`
```{r}
# planets_df is pre-loaded in your workspace

# Select planets with diameter < 1
subset(planets_df, subset = diameter < 1)
```

`@sct`
```{r}
msg = "Lütfen `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex()  %>% check_correct({
  ex() %>% check_output_expr("subset(planets_df, subset = diameter < 1)", missing_msg = "`subset()` içinde `subset = ...` kısmını doğru bir şekilde belirttiniz mi? Bu durumda koşul `diameter < 1` olmalıdır. Sonucu basitçe yazdırın.")  

}, {
  ex() %>% check_function("subset") %>% check_arg('x') %>% check_equal(incorrect_msg = "`subset()` fonksiyonuna geçirdiğiniz ilk argüman `planets_df` olmalıdır.")

})
success_msg("Harika! `subset()` fonksiyonu sadece daha özlü değil, aynı zamanda kodunuzu okuyan insanlar için muhtemelen daha anlaşılırdır. Bir sonraki alıştırmaya devam edin.");
```

---

## Sıralama

```yaml
type: NormalExercise
key: 6a6fe74d3917c37380f7ac616ce084aa7814fb8a
xp: 100
skills:
  - 1
```

Sıralamalar yapmak ve oluşturmak, insanların en sevdiği işlerden biridir. Bu sıralamalar faydalı (dünyanın en iyi üniversiteleri), eğlenceli (en etkili film yıldızları) veya anlamsız (en iyi 007 benzeri) olabilir.

Veri analizinde verilerinizi veri kümesindeki belirli bir değişkene göre sıralayabilirsiniz. R’de bu işlem `order()` fonksiyonunun yardımıyla yapılır. 

`order()`, mesela a vektörü gibi bir değişkene uygulandığında, size her bir elemanın sıralı konumunu veren bir fonksiyondur:

```
a <- c(100, 10, 1000)
order(a)
[1] 2 1 3
```

`a` vektöründeki ikinci eleman olan 10 en küçük elemandır, bu nedenle 2 değeri, `order(a)` çıktısında ilk sırada yer alır. `a` vektöründeki ilk eleman olan 100, ikinci en küçük elemandır, bu nedenle 1 değeri, `order(a)` çıktısında ikinci sırada gelir.

`order(a)` çıktısını kullanarak `a` vektörünü yeniden karıştırabiliriz:

    

```
a[order(a)]
[1]   10  100 1000
```

`@instructions`
Konsoldaki `order()` fonksiyonuyla denemeler yapın. Devam etmeye hazır olduğunuzda yanıtı gönderin.

`@hint`
Konsoldaki `order()` fonksiyonuyla biraz oynayın!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Play around with the order function in the console
```

`@solution`
```{r}
# Play around with the order function in the console
```

`@sct`
```{r}
success_msg("Harika! Şimdi veri çerçevenizi sıralamak için `order()` fonksiyonunu kullanalım!")
```

---

## Veri çerçevenizi sıralama

```yaml
type: NormalExercise
key: fa88b58bf2cf62e0c181dfdcbdd2e1ddeac66807
xp: 100
skills:
  - 1
```

Artık `order()` fonksiyonunu anladığınıza göre onunla yararlı bir şeyler yapalım. Veri çerçevenizi en küçük gezegenle başlayıp en büyük gezegenle bitecek şekilde yeniden düzenlemek istiyorsunuz. `diameter` sütununda bir sıralama yapacaksınız.

`@instructions`
- `planets_df$diameter` üzerinde (`planets_df` `diameter` sütunu) `order()` çağrısı yapın. Sonucu `positions` olarak depolayın.
- Şimdi `planets_df` sıralamasını `positions` vektörü ile köşeli parantezler içinde satır dizinleri olarak yeniden karıştırın. Tüm sütunları tutun. Sonucu yazdırın.

`@hint`
- `positions` oluşturmak için `order(planets_df$diameter)` değişkenini kullanın.
- Şimdi `positions` değerini köşeli parantez içinde kullanabilirsiniz: `planets_df[...]`; peki `...` değerini doldurabilir misiniz?

`@pre_exercise_code`
```{r}
# Definition of vectors
name <- c("Mercury", "Venus", "Earth", 
          "Mars", "Jupiter", "Saturn", 
          "Uranus", "Neptune")
type <- c("Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", 
          "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 
              11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03,
              0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Create a data frame from the vectors
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

`@sample_code`
```{r}
# planets_df is pre-loaded in your workspace

# Use order() to create positions
positions <-  

# Use positions to sort planets_df

```

`@solution`
```{r}
# planets_df is pre-loaded in your workspace

# Use order() to create positions
positions <- order(planets_df$diameter)

# Use positions to sort planets_df
planets_df[positions, ]
```

`@sct`
```{r}
msg = "Lütfen `planets_df` veri çerçevesini kaldırmayın veya üzerine yazmayın!"
ex() %>% check_object("planets_df", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("positions") %>% check_equal(incorrect_msg = " `positions` değişkenini doğru bir şekilde hesapladınız mı? `order(planets_df$diameter)` kullanabilirsiniz.")

ex() %>% check_output_expr("planets_df[positions,]",missing_msg = "`planets_df`'yi sıralamak için `planets_df[positions, ]` kullanın; köşeli parantez içindeki virgül çok önemlidir!")

success_msg("Harika! Bu alıştırma, veri çerçeveleri konusundaki bölümü tamamlıyor. Veri çerçevelerinin R'de son derece önemli olduğunu unutmayın, onlara her zaman ihtiyacınız olacak. Çok sık kullanılan bir diğer veri yapısı ise listedir. Bu, bir sonraki bölümün konusu olacak!")
```
